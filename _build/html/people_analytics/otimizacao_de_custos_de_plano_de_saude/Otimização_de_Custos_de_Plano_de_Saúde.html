
<!DOCTYPE html>


<html lang="pt-BR" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Otimização de Custos de Plano de Saúde &#8212; Portfólio de Ciência de Dados</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=2efa9f5e"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'people_analytics/otimizacao_de_custos_de_plano_de_saude/Otimização_de_Custos_de_Plano_de_Saúde';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="icon" href="../../_static/icon-machine-learning.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="People Analytics" href="../introducao.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="pt-BR"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Portfólio de Ciência de Dados - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Portfólio de Ciência de Dados - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Wolker Dias - Cientista de Dados
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Projetos de dados</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../agro/introducao.html">Agro</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../fintechs/introducao.html">Fintechs</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../fintechs/analise_de_carteira_de_investimentos/Constru%C3%A7%C3%A3o_de_Portf%C3%B3lio_de_A%C3%A7%C3%B5es.html">Construção de Portfólio de Ações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fintechs/analise_de_carteira_de_investimentos/C%C3%A1lculo_do_VaR_de_uma_Carteira_de_Investimentos.html">Cálculo do <em>VaR</em> de uma Carteira de Investimentos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../legal_analytics/introducao.html">Legal Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../marketing_digital_e_crm/introducao.html">Marketing Digital e CRM</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../introducao.html">People Analytics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Otimização de Custos de Plano de Saúde</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/WolkerDias/portfolio-cientista-de-dados" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/WolkerDias/portfolio-cientista-de-dados/issues/new?title=Issue%20on%20page%20%2Fpeople_analytics/otimizacao_de_custos_de_plano_de_saude/Otimização_de_Custos_de_Plano_de_Saúde.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/people_analytics/otimizacao_de_custos_de_plano_de_saude/Otimização_de_Custos_de_Plano_de_Saúde.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Otimização de Custos de Plano de Saúde</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#entendimento-do-negocio">1. Entendimento do Negócio</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contexto-de-negocio">1.1 Contexto de negócio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivo">1.2 Objetivo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#premissas">1.3 Premissas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#riscos-envolvidos">1.4 Riscos Envolvidos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-swot">Análise SWOT</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custos-x-beneficios">1.5 Custos x Benefícios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#criterios-de-sucesso">1.6 Critérios de Sucesso</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados">1.7 Resultados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recursos">1.8 Recursos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planejamento-do-projeto">1.9 Planejamento do projeto</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#entendimento-do-dados">2. Entendimento do Dados</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#descricao-dos-dados">2.1 Descrição dos dados</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#importacoes">2.1.1 Importações</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#lendo-o-arquivo-de-dados">2.1.2 Lendo o arquivo de dados</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-exploratoria-de-dados-aed">2.2 Análise Exploratória de Dados (AED)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-analise-dos-dados">2.2.1 Pré-análise dos Dados</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-de-frequencias">2.2.2 Distribuição de Frequências</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-de-frequencias-para-variaveis-quantitativas-numericas">2.2.2.1 Distribuição de Frequências para variáveis quantitativas (numéricas)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-de-frequencias-para-variaveis-qualitativas-categoricas">2.2.2.2 Distribuição de Frequências para variáveis qualitativas (categóricas)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparacao-dos-dados">3. Preparação dos Dados</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecao-das-variaveis">3.1 Seleção das variáveis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-correlacao-e-associacao">3.1.1 Análise de Correlação e Associação</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-numericas">3.1.1.1 Análise de Correlação e medidas de associação entre variáveis numéricas</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-categoricas">3.1.1.2 Análise de Correlação e medidas de associação entre variáveis categóricas</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-multivariada">3.1.2 Análise Multivariada</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-idade">3.1.2.1 Distribuição das variáveis categóricas no Custo_Saude x Idade</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-imc">3.1.2.2 Distribuição das variáveis categóricas no Custo_Saude x IMC</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-qte-filhos">3.1.2.3 Distribuição das variáveis categóricas no Custo_Saude x Qte_Filhos</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplots-de-categorias-de-fumantes-por-regiao-em-relacao-a-custo-saude">3.1.2.4 Boxplots de categorias de Fumantes por Região em relação a Custo_Saude</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplots-de-categorias-de-fumantes-por-sexo-em-relacao-a-custo-saude">3.1.2.5 Boxplots de categorias de Fumantes por Sexo em relação a Custo_Saude</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplots-de-categorias-de-fumantes-por-categorias-imc-em-relacao-a-custo-saude">3.1.2.6 Boxplots de categorias de Fumantes por Categorias_IMC em relação a Custo_Saude</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#medindo-o-r2-de-combinacoes-pareadas-de-variaveis-categoricas">3.1.2.7 Medindo o R² de combinações pareadas de variáveis categóricas</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#desenvolvendo-o-modelo-inferencial">4. Desenvolvendo o Modelo Inferencial</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amostragem-estratificada">4.1 Amostragem estratificada</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tamanho-da-amostra">4.2 Tamanho da amostra</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#calculo-amostral-utilizando-a-formula-de-slovin">4.2.1 Cálculo amostral utilizando a fórmula de Slovin</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.3 Preparação dos Dados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ajuste-do-modelo-de-regressao-linear-multipla">4.4 Ajuste do Modelo de Regressão Linear Múltipla</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validacao-do-trabalho">5. Validação do trabalho</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagnostico-do-modelo-analise-dos-residuos">5.1 Diagnóstico do Modelo: Análise dos Resíduos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ausencia-de-multicolinearidade">5.1.1 Ausência de multicolinearidade</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#normalidade-dos-residuos">5.1.2 Normalidade dos Resíduos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#homocedasticidade-dos-residuos">5.1.3 Homocedasticidade dos Resíduos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#premissas-suposicoes-para-o-modelo-inferencial">5.1.4 Premissas/Suposições para o Modelo Inferencial</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacao-do-modelo">5.2 Interpretação do Modelo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verificacao-dos-criterios-de-sucesso">5.3 Verificação dos critérios de sucesso</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estimativas-populacionais-de-ganho-geral">5.3.1 Estimativas populacionais de ganho geral</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implantacao">6. Implantação</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plano-de-implantacao">6.1 Plano de implantação</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#consideracoes-finais">7. Considerações finais</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limitacoes">7.1 Limitações</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proximos-passos">7.2 Próximos Passos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agradecimentos">7.3 Agradecimentos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#links-uteis">Links Úteis</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="otimizacao-de-custos-de-plano-de-saude">
<h1>Otimização de Custos de Plano de Saúde<a class="headerlink" href="#otimizacao-de-custos-de-plano-de-saude" title="Link to this heading">#</a></h1>
<section id="entendimento-do-negocio">
<h2>1. Entendimento do Negócio<a class="headerlink" href="#entendimento-do-negocio" title="Link to this heading">#</a></h2>
<section id="contexto-de-negocio">
<h3>1.1 Contexto de negócio<a class="headerlink" href="#contexto-de-negocio" title="Link to this heading">#</a></h3>
<p>Uma empresa do ramo alimentício tem mais de 20 mil colaboradores em todo o Brasil. Com o passar dos anos a empresa percebeu um <strong>aumento no custo do plano de saúde</strong> com seus colaboradores. Como forma de entender esse comportamento, a gerência de Benefícios e Bem Estar da Diretoria de Pessoas conduziu uma pesquisa interna com um grupo de <strong>1.338 colaboradores</strong> sorteados aleatoriamente.</p>
<p>A gerência acredita que fatores como fumo e obesidade podem estar relacionados com o maior uso do plano de saúde, o que acaba elevando os custos. Portanto, os colaboradores da pesquisa responderam características pessoais como o Índice de Massa Corpórea (IMC), Qte de Filhos e se fazem uso de cigarros.</p>
</section>
<section id="objetivo">
<h3>1.2 Objetivo<a class="headerlink" href="#objetivo" title="Link to this heading">#</a></h3>
<p>O objetivo deste projeto é compreender o cenário e os desafios enfrentados pela empresa no que diz respeito ao aumento no custos do plano de saúde de seus colaboradores. Para tanto, serão identificados os principais fatores que contribuem para os altos custos, as oportunidades de melhoria e as possíveis ações preventivas que podem ser tomadas pela gerência.</p>
</section>
<section id="premissas">
<h3>1.3 Premissas<a class="headerlink" href="#premissas" title="Link to this heading">#</a></h3>
<p>Para a execução da análise, levou-se em consideração as seguintes premissas:</p>
<ul class="simple">
<li><p>Os dados fornecidos pela empresa são precisos e representam adequadamente a situação atual dos custos do plano de saúde.</p></li>
<li><p>A coleta e a limpeza dos dados foram realizadas de maneira adequada, estando isentas de possíveis problemas associados a riscos operacionais, imparcialidade ou tendências.</p></li>
<li><p>A empresa está aberta à implementação de mudanças com base nas descobertas deste projeto.</p></li>
<li><p>A análise considerará apenas os fatores internos da empresa, excluindo influências externas não controláveis.</p></li>
</ul>
</section>
<section id="riscos-envolvidos">
<h3>1.4 Riscos Envolvidos<a class="headerlink" href="#riscos-envolvidos" title="Link to this heading">#</a></h3>
<section id="analise-swot">
<h4>Análise SWOT<a class="headerlink" href="#analise-swot" title="Link to this heading">#</a></h4>
<table>
<thead>
  <tr>
    <th colspan="3">Matriz SWOT</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th rowspan="2">Fatores internos (estão em nosso controle)</th>
    <th>Forças</th>
    <th>Fraquezas</th>
  </tr>
  <tr>
    <td>
      <ul>
        <li><b>Dados abrangentes</b>: A empresa possui acesso a uma grande quantidade de dados sobre seus colaboradores, incluindo informações de saúde, histórico médico e uso do plano de saúde.</li>
        <li><b>Expertise em análise de dados</b>: A empresa conta com profissionais qualificados e experientes em análise de dados, o que facilita a identificação de padrões e tendências nos dados de saúde.</li>
        <li><b>Comprometimento da alta administração</b>: A alta administração está comprometida em reduzir os custos de saúde e reconhece o valor da análise de dados como uma ferramenta estratégica para alcançar esse objetivo.</li>
      </ul>
    </td>
    <td>
      <ul>
        <li><b>Resistência à fornecer informações pessoais</b>: Alguns colaboradores podem se opor a fornecer informações pessoais ou participar de programas de saúde baseados em dados, dificultando a implementação das soluções propostas.</li>
        <li><b>Resistência à mudança</b>: Caso a hipótese de o fumo e a obesidade estarem relacionados com o maior uso do plano de saúde for confirmada os colaboradores podem resistir à mudança de hábitos referentes a estes fatores, o que pode dificultar a implementação de novas estratégias ou iniciativas dentro da empresa.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <th rowspan="2">Fatores externos (não estão em nosso controle)</th>
    <th>Oportunidades</th>
    <th>Ameaças</th>
  </tr>
  <tr>
    <td>
      <ul>
        <li><b>Identificação de fatores de risco</b>: A análise de dados pode ajudar a identificar fatores de risco específicos, como tabagismo, obesidade ou outros fatores, que estão contribuindo para os altos custos de saúde.</li>
        <li><b>Personalização de intervenções de saúde</b>: Com base nos dados coletados, a empresa pode desenvolver programas de saúde personalizados para atender às necessidades individuais dos colaboradores e reduzir os custos associados às condições de saúde específicas.</li>
      </ul>
    </td>
    <td>
      <ul>
        <li><b>Questões de privacidade e segurança de dados</b>: O manuseio de dados de saúde sensíveis pode levantar preocupações com privacidade e segurança, especialmente em conformidade com regulamentações como a Lei Geral de Proteção de Dados (LGPD).</li>
        <li><b>Resistência sindical ou legal</b>: Sindicatos ou órgãos reguladores podem levantar objeções à coleta e uso de dados de saúde dos colaboradores, o que pode criar obstáculos legais ou políticos para o projeto.</li>
      </ul>
    </td>
  </tr>
</tbody>
</table>
</section>
</section>
<section id="custos-x-beneficios">
<h3>1.5 Custos x Benefícios<a class="headerlink" href="#custos-x-beneficios" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Os custos associados a este projeto incluem o tempo e os recursos dedicados à coleta, limpeza e análise dos dados, bem como a implementação de quaisquer mudanças recomendadas.</p></li>
<li><p>Os benefícios esperados incluem uma redução nos custos do plano de saúde, uma melhoria na saúde geral dos colaboradores e uma melhor compreensão dos fatores que influenciam os custos.</p></li>
</ul>
</section>
<section id="criterios-de-sucesso">
<h3>1.6 Critérios de Sucesso<a class="headerlink" href="#criterios-de-sucesso" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Identificação clara dos principais fatores que influenciam os custos do plano de saúde.</p></li>
<li><p>Desenvolvimento de ações preventivas viáveis e eficazes para reduzir os custos empregando a metodologia <a class="reference external" href="https://sebrae.com.br/Sebrae/Portal%20Sebrae/Anexos/5W2H.pdf">5W2H</a>.</p></li>
<li><p>Aceitação e implementação bem-sucedida das mudanças propostas pela empresa.</p></li>
<li><p>Melhoria mensurável nos custos do plano de saúde e na saúde geral dos colaboradores ao longo do tempo.</p></li>
</ul>
</section>
<section id="resultados">
<h3>1.7 Resultados<a class="headerlink" href="#resultados" title="Link to this heading">#</a></h3>
<p>Os principais resultados esperados incluem:</p>
<ul class="simple">
<li><p>Identificação e quantificação dos principais fatores correlacionados com os custos do plano de saúde na empresa.</p></li>
<li><p>Formulação de recomendações de ações preventivas que a empresa pode adotar para reduzir esses custos.</p></li>
<li><p>Avaliação e projeção do impacto potencial de alterações nos fatores de risco sobre os custos com saúde.</p></li>
</ul>
</section>
<section id="recursos">
<h3>1.8 Recursos<a class="headerlink" href="#recursos" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference download internal" download="" href="../../_downloads/3cbb563190160298837b570682271667/base_plano_de_saude.xlsx"><span class="xref download myst"><download>base_plano_de_saude.xlsx</span></a></p></li>
<li><p><a class="reference external" href="https://jupyter.org/">Jupyter Notebook</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/">Python 3.11.8</a></p></li>
<li><p>Bibliotecas Python:</p>
<ul>
<li><p><a class="reference external" href="https://pandas.pydata.org/">pandas==1.5.3</a></p></li>
<li><p><a class="reference external" href="https://numpy.org/">numpy==1.25.2</a></p></li>
<li><p><a class="reference external" href="https://matplotlib.org/">matplotlib==3.7.1</a></p></li>
<li><p><a class="reference external" href="https://seaborn.pydata.org/">seaborn==0.13.1</a></p></li>
<li><p><a class="reference external" href="https://scipy.org/">scipy==1.11.4</a></p></li>
<li><p><a class="reference external" href="https://www.statsmodels.org/">statsmodels==0.14.1</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="planejamento-do-projeto">
<h3>1.9 Planejamento do projeto<a class="headerlink" href="#planejamento-do-projeto" title="Link to this heading">#</a></h3>
<p>O projeto segue a metodologia <a class="reference external" href="https://www.preditiva.ai/blog/entenda-o-crisp-dm-suas-etapas-e-como-de-fato-gerar-valor-com-essa-metodologia">CRISP-DM</a>, uma consolidação das melhores práticas na área de dados, conhecida como <em>Cross Industry Standard Process for Data Mining</em>, visando aumentar suas chances de sucesso.</p>
<p><strong>Proposta de solução:</strong>
A análise será dividida em três partes principais:</p>
<ul class="simple">
<li><p><strong>Parte 1: Análise Exploratória de Dados (AED)</strong>: Exploração dos dados disponíveis para verificar a qualidade dos dados, identificar padrões, tendências e insights iniciais.</p></li>
<li><p><strong>Parte 2: Análise de Correlação e Solução do Problema</strong>: Análise da relação entre as variáveis verificando o comportamento conjunto e investigando potenciais relações causais para o custo do plano de saúde da empresa.</p></li>
<li><p><strong>Parte 3: Modelagem Inferencial</strong>: Desenvolvimento e ajuste de um modelo de Regressão Linear Múltipla para entender como cada variável explica o custo de saúde.</p></li>
</ul>
<p><strong>Perguntas a serem respondidas:</strong></p>
<ul class="simple">
<li><p>Quais fatores estão mais relacionados com o Custo do Plano de Saúde na empresa?</p></li>
<li><p>Que tipo de ações preventivas a empresa pode fazer de forma a diminuir esse custo?</p></li>
</ul>
<p><strong>Hipóteses a serem testadas:</strong></p>
<ul class="simple">
<li><p>H1: O fumo e a obesidade estão relacionados com o maior uso do plano de saúde, o que acaba elevando os custos.</p></li>
<li><p>H2: Quanto maior a quantidade de filhos maior será o número de dependentes no plano de saúde, o que eleva os custos.</p></li>
</ul>
</section>
</section>
<section id="entendimento-do-dados">
<h2>2. Entendimento do Dados<a class="headerlink" href="#entendimento-do-dados" title="Link to this heading">#</a></h2>
<section id="descricao-dos-dados">
<h3>2.1 Descrição dos dados<a class="headerlink" href="#descricao-dos-dados" title="Link to this heading">#</a></h3>
<section id="importacoes">
<h4>2.1.1 Importações<a class="headerlink" href="#importacoes" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">locale</span>

<span class="c1"># Pacotes de modelagem</span>
<span class="kn">import</span> <span class="nn">statsmodels</span> <span class="k">as</span> <span class="nn">sms</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definir a formatação local para o Brasil</span>
<span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;pt_BR.UTF-8&#39;</span><span class="p">)</span>

<span class="c1"># Definir um alias para a função locale.currency()</span>
<span class="k">def</span> <span class="nf">moeda</span><span class="p">(</span><span class="n">valor</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">locale</span><span class="o">.</span><span class="n">currency</span><span class="p">(</span><span class="n">valor</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configurando o pandas para exibir todo o conteúdo de uma célula, sem truncar o texto</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="lendo-o-arquivo-de-dados">
<h4>2.1.2 Lendo o arquivo de dados<a class="headerlink" href="#lendo-o-arquivo-de-dados" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlsx</span> <span class="o">=</span> <span class="s1">&#39;./data/base_plano_de_saude.xlsx&#39;</span>

<span class="n">nomes_abas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;base&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadados&#39;</span><span class="p">]</span>

<span class="n">dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xlsx</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="n">nomes_abas</span><span class="p">)</span>

<span class="n">base</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;base&#39;</span><span class="p">]</span>
<span class="n">Metadados</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;Metadados&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Informações básicas sobre o DataFrame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Idade</th>
      <th>Sexo</th>
      <th>IMC</th>
      <th>Qte_Filhos</th>
      <th>Fumante</th>
      <th>Região</th>
      <th>Custo_Saude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>19</td>
      <td>Feminino</td>
      <td>27.900</td>
      <td>0</td>
      <td>Sim</td>
      <td>Centro</td>
      <td>1688.492400</td>
    </tr>
    <tr>
      <th>1</th>
      <td>18</td>
      <td>Masculino</td>
      <td>33.770</td>
      <td>1</td>
      <td>Não</td>
      <td>Sudeste</td>
      <td>172.555230</td>
    </tr>
    <tr>
      <th>2</th>
      <td>28</td>
      <td>Masculino</td>
      <td>33.000</td>
      <td>3</td>
      <td>Não</td>
      <td>Sudeste</td>
      <td>444.946200</td>
    </tr>
    <tr>
      <th>3</th>
      <td>33</td>
      <td>Masculino</td>
      <td>22.705</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>2198.447061</td>
    </tr>
    <tr>
      <th>4</th>
      <td>32</td>
      <td>Masculino</td>
      <td>28.880</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>386.685520</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Metadados</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Variável</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Idade</td>
      <td>Idade do colaborador</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Sexo</td>
      <td>Sexo do colaborador</td>
    </tr>
    <tr>
      <th>2</th>
      <td>IMC</td>
      <td>Índice de Massa Corporal do colaborador</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Qte_Filhos</td>
      <td>Qte de filhos que o colaborador tem</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Fumante</td>
      <td>Flag se o colaborador é fumante ou não fumante</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Região</td>
      <td>Região do Brasil onde o colaborador mora</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Custo_Saude</td>
      <td>Custo de Plano de Saúde que esse colaborador trouxe para a empresa no último ano</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="analise-exploratoria-de-dados-aed">
<h3>2.2 Análise Exploratória de Dados (AED)<a class="headerlink" href="#analise-exploratoria-de-dados-aed" title="Link to this heading">#</a></h3>
<p>Nesta primeira fase do projeto, aplicaremos técnicas de Estatística Descritiva para <strong>resumir</strong> e <strong>organizar</strong> os dados coletados por meio de tabelas, gráficos ou medidas numéricas, em busca de regularidades ou padrões nas observações que geram <em>insights</em>.</p>
<section id="pre-analise-dos-dados">
<h4>2.2.1 Pré-análise dos Dados<a class="headerlink" href="#pre-analise-dos-dados" title="Link to this heading">#</a></h4>
<p>O objetivo desta etapa é identificar dados perdidos, valores que foram armazenados incorretamente na base de dados, valores discrepantes e inconsistências que possam afetar seriamente as conclusões obtidas a partir dos dados, colocando em risco a qualidade das decisões decorrentes.</p>
<p><strong>Dados perdidos (<em>missing data</em>)</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1338 entries, 0 to 1337
Data columns (total 7 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   Idade        1338 non-null   int64  
 1   Sexo         1338 non-null   object 
 2   IMC          1338 non-null   float64
 3   Qte_Filhos   1338 non-null   int64  
 4   Fumante      1338 non-null   object 
 5   Região       1338 non-null   object 
 6   Custo_Saude  1338 non-null   float64
dtypes: float64(2), int64(2), object(3)
memory usage: 73.3+ KB
</pre></div>
</div>
</div>
</div>
<p>Aparentemente, nenhum valor <em>missing</em> na base e os tipos das variáveis condizentes com os metadados.</p>
<p><strong>Verificando valores duplicados:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">base</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Idade</th>
      <th>Sexo</th>
      <th>IMC</th>
      <th>Qte_Filhos</th>
      <th>Fumante</th>
      <th>Região</th>
      <th>Custo_Saude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>195</th>
      <td>19</td>
      <td>Masculino</td>
      <td>30.59</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>163.95631</td>
    </tr>
    <tr>
      <th>581</th>
      <td>19</td>
      <td>Masculino</td>
      <td>30.59</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>163.95631</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mf">163.95631</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Idade</th>
      <th>Sexo</th>
      <th>IMC</th>
      <th>Qte_Filhos</th>
      <th>Fumante</th>
      <th>Região</th>
      <th>Custo_Saude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>195</th>
      <td>19</td>
      <td>Masculino</td>
      <td>30.59</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>163.95631</td>
    </tr>
    <tr>
      <th>581</th>
      <td>19</td>
      <td>Masculino</td>
      <td>30.59</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>163.95631</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Embora as linhas acima pareçam estar duplicadas e o valor do custo de saúde não seja tão comum nesta amostra, não há informação suficiente para identificar se pertencem ao mesmo indivíduo ou é apenas uma coincidência, desta forma optou-se por mantê-los na base.</p>
</section>
<section id="distribuicao-de-frequencias">
<h4>2.2.2 Distribuição de Frequências<a class="headerlink" href="#distribuicao-de-frequencias" title="Link to this heading">#</a></h4>
<p>A construção da distribuição de frequências exige que os possíveis valores da variável sejam discriminados e seja contado o número de vezes em que cada valor ocorreu no conjunto de dados.</p>
<section id="distribuicao-de-frequencias-para-variaveis-quantitativas-numericas">
<h5>2.2.2.1 Distribuição de Frequências para variáveis quantitativas (numéricas)<a class="headerlink" href="#distribuicao-de-frequencias-para-variaveis-quantitativas-numericas" title="Link to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Separando as variáveis quantitativas (numéricas) das demais variáveis</span>
<span class="n">numerical_variables</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="s1">&#39;float64&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Medidas de Posição e Dispersão</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numerical_variables</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Idade</th>
      <td>1338.0</td>
      <td>39.207025</td>
      <td>14.049960</td>
      <td>18.00000</td>
      <td>27.000000</td>
      <td>39.0000</td>
      <td>51.000000</td>
      <td>64.000000</td>
    </tr>
    <tr>
      <th>IMC</th>
      <td>1338.0</td>
      <td>30.663397</td>
      <td>6.098187</td>
      <td>15.96000</td>
      <td>26.296250</td>
      <td>30.4000</td>
      <td>34.693750</td>
      <td>53.130000</td>
    </tr>
    <tr>
      <th>Qte_Filhos</th>
      <td>1338.0</td>
      <td>1.094918</td>
      <td>1.205493</td>
      <td>0.00000</td>
      <td>0.000000</td>
      <td>1.0000</td>
      <td>2.000000</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>Custo_Saude</th>
      <td>1338.0</td>
      <td>1327.042227</td>
      <td>1211.001124</td>
      <td>112.18739</td>
      <td>474.028715</td>
      <td>938.2033</td>
      <td>1663.991252</td>
      <td>6377.042801</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Boxplots e histogramas</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Boxplots e histogramas</span>
<span class="k">def</span> <span class="nf">plot_boxplot_and_histogram</span><span class="p">(</span><span class="n">dataframe</span><span class="p">):</span>
    <span class="c1"># Configuração do tamanho do gráfico</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

    <span class="c1"># Criar uma paleta de cores com uma cor diferente para cada variável</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>

    <span class="c1"># Iterar sobre cada feature e criar boxplot e histograma</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="c1"># Subplot para boxplot</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">)</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dataframe</span><span class="p">[</span><span class="n">var</span><span class="p">],</span> <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">meanprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                               <span class="s2">&quot;markeredgecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
                               <span class="s2">&quot;markersize&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">},</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="c1"># Subplot para histograma</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dataframe</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">var</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

    <span class="c1"># Configuração do título</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Boxplot e Histograma de variáveis numéricas&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
        <span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="c1"># Ajustar a posição do título</span>
        <span class="n">wspace</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span> <span class="c1"># Ajustar os espaçamentos entre os plots</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># plotando a função com &#39;numerical_variables&#39;</span>
<span class="n">plot_boxplot_and_histogram</span><span class="p">(</span><span class="n">numerical_variables</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/abfe70bc62710321ee7af1ce3ae50366ccc297eb448ef876cf2bd12fab341dad.png" src="../../_images/abfe70bc62710321ee7af1ce3ae50366ccc297eb448ef876cf2bd12fab341dad.png" />
</div>
</div>
<p><em><strong>Insights</strong></em></p>
<p>As estatísticas descritivas fornecem uma compreensão inicial do conjunto de dados, servindo como base para análises mais aprofundadas sobre os padrões e tendências presentes. Observando o resumo estatístico das variáveis quantitativas acima, é possível notar que:</p>
<ul class="simple">
<li><p><strong>Idade:</strong></p>
<ul>
<li><p>Não parece haver nada de incomum entre as idades de 18 anos a 64 anos, pois elas estão dentro de faixas razoáveis para uma população adulta, sendo que 50% dos colaboradores tem entre 27 e 51 anos, conforme indicado pelo intervalo interquartil.</p></li>
<li><p>A idade média e mediana dos colaboradores são de aproximadamente 39 anos, com um desvio padrão de cerca de 14 anos, indicando uma dispersão considerável em torno da média.</p></li>
</ul>
</li>
<li><p><strong>IMC (Índice de Massa Corporal):</strong></p>
<ul>
<li><p>O IMC mínimo de 15.96 (Muito abaixo do peso) e o máximo de 53.13 (Obesidade Mórbida) são bastante extremos e incomuns, mas não são impossíveis. De qualquer forma, valores extremos podem ser considerados discrepantes e devem ser investigados.</p></li>
<li><p>A média e a mediana do IMC são de aproximadamente 30, indicando que, em contrapartida, 50% dos colaboradores estão na faixa de <a class="reference external" href="https://pt.wikipedia.org/wiki/%C3%8Dndice_de_massa_corporal">obesidade</a>.</p></li>
<li><p>Para uma melhor interpretação do IMC, podemos investigar as distribuições por categorias.</p></li>
</ul>
</li>
<li><p><strong>Quantidade de Filhos:</strong></p>
<ul>
<li><p>A quantidade de filhos varia de 0 a 5, sendo 50% com até 1 filho e 75% com até 2 filhos.</p></li>
<li><p>A média de filhos é de aproximadamente 1 por colaborador, com um desvio padrão de cerca de 1,21, indicando uma variabilidade significativa na quantidade de filhos.</p></li>
</ul>
</li>
<li><p><strong>Custo do Plano de Saúde:</strong></p>
<ul>
<li><p>O custo do plano de saúde varia de <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">112,19</span></code> a <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">6.377,04</span></code> sendo 75% até <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">1.663.99</span></code>, indicando uma concentração de altos custos nos últimos 25%. Isso sugere que pode haver alguns custos médicos excepcionalmente altos para certos indivíduos, podendo ser resultado de condições médicas graves, tratamentos caros ou até mesmo erros nos dados. Novamente, valores tão extremos podem ser considerados discrepantes e devem ser investigados.</p></li>
<li><p>O custo médio do plano de saúde é de aproximadamente <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">1.327.04</span></code> com um desvio padrão de cerca de <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">1.211.00</span></code> indicando uma grande dispersão nos custos entre os colaboradores.</p></li>
<li><p>Boa parte dos custos (50%) está entre <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">474,02</span></code> e <code class="docutils literal notranslate"><span class="pre">R$</span> <span class="pre">1.663,99</span></code>, conforme indicado pelo intervalo interquartil.</p></li>
</ul>
</li>
</ul>
</section>
<section id="distribuicao-de-frequencias-para-variaveis-qualitativas-categoricas">
<h5>2.2.2.2 Distribuição de Frequências para variáveis qualitativas (categóricas)<a class="headerlink" href="#distribuicao-de-frequencias-para-variaveis-qualitativas-categoricas" title="Link to this heading">#</a></h5>
<p>Para uma melhor interpretação do IMC, criaremos categorias condizentes com as <a class="reference external" href="https://pt.wikipedia.org/wiki/%C3%8Dndice_de_massa_corporal">medidas internacionais</a> de Índice de massa corporal:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Resultado</p></th>
<th class="head"><p>Situação</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Abaixo de 17</p></td>
<td><p>Muito abaixo do peso</p></td>
</tr>
<tr class="row-odd"><td><p>Entre 17 e 18,49</p></td>
<td><p>Abaixo do peso</p></td>
</tr>
<tr class="row-even"><td><p>Entre 18,50 e 24,99</p></td>
<td><p>Peso normal</p></td>
</tr>
<tr class="row-odd"><td><p>Entre 25 e 29,99</p></td>
<td><p>Acima do peso</p></td>
</tr>
<tr class="row-even"><td><p>Entre 30 e 34,99</p></td>
<td><p>Obesidade I</p></td>
</tr>
<tr class="row-odd"><td><p>Entre 35 e 39,99</p></td>
<td><p>Obesidade II (severa)</p></td>
</tr>
<tr class="row-even"><td><p>Acima de 40</p></td>
<td><p>Obesidade III (mórbida)</p></td>
</tr>
</tbody>
</table>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultado</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;-inf&#39;</span><span class="p">),</span> <span class="mf">16.99</span><span class="p">,</span> <span class="mf">18.49</span><span class="p">,</span> <span class="mf">24.99</span><span class="p">,</span> <span class="mf">29.99</span><span class="p">,</span> <span class="mf">34.99</span><span class="p">,</span> <span class="mf">39.99</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)]</span>
<span class="n">situacao</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Muito abaixo do peso&quot;</span><span class="p">,</span> <span class="s2">&quot;Abaixo do peso&quot;</span><span class="p">,</span> <span class="s2">&quot;Peso normal&quot;</span><span class="p">,</span> <span class="s2">&quot;Acima do peso&quot;</span><span class="p">,</span> <span class="s2">&quot;Obesidade I&quot;</span><span class="p">,</span> <span class="s2">&quot;Obesidade II&quot;</span><span class="p">,</span> <span class="s2">&quot;Obesidade III&quot;</span><span class="p">]</span>

<span class="n">base</span><span class="p">[</span><span class="s1">&#39;Categorias_IMC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span>
    <span class="n">base</span><span class="p">[</span><span class="s1">&#39;IMC&#39;</span><span class="p">],</span>
    <span class="n">bins</span><span class="o">=</span><span class="n">resultado</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">situacao</span>
    <span class="p">)</span>

<span class="n">base</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Idade</th>
      <th>Sexo</th>
      <th>IMC</th>
      <th>Qte_Filhos</th>
      <th>Fumante</th>
      <th>Região</th>
      <th>Custo_Saude</th>
      <th>Categorias_IMC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>19</td>
      <td>Feminino</td>
      <td>27.900</td>
      <td>0</td>
      <td>Sim</td>
      <td>Centro</td>
      <td>1688.492400</td>
      <td>Acima do peso</td>
    </tr>
    <tr>
      <th>1</th>
      <td>18</td>
      <td>Masculino</td>
      <td>33.770</td>
      <td>1</td>
      <td>Não</td>
      <td>Sudeste</td>
      <td>172.555230</td>
      <td>Obesidade I</td>
    </tr>
    <tr>
      <th>2</th>
      <td>28</td>
      <td>Masculino</td>
      <td>33.000</td>
      <td>3</td>
      <td>Não</td>
      <td>Sudeste</td>
      <td>444.946200</td>
      <td>Obesidade I</td>
    </tr>
    <tr>
      <th>3</th>
      <td>33</td>
      <td>Masculino</td>
      <td>22.705</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>2198.447061</td>
      <td>Peso normal</td>
    </tr>
    <tr>
      <th>4</th>
      <td>32</td>
      <td>Masculino</td>
      <td>28.880</td>
      <td>0</td>
      <td>Não</td>
      <td>Norte</td>
      <td>386.685520</td>
      <td>Acima do peso</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Separando as variáveis qualitativas (categóricas) das demais variáveis</span>
<span class="n">categorical_variables</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definindo a função de tabelas de frequência</span>

<span class="k">def</span> <span class="nf">tabela_frequencia_qualitativa</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">variavel_qualitativa</span><span class="p">,</span> <span class="n">metadados</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ordem</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gera tabelas de frequência absoluta, relativa e acumulada para uma variável qualitativa em um DataFrame.</span>

<span class="sd">    Parâmetros:</span>
<span class="sd">    - df: DataFrame pandas contendo os dados.</span>
<span class="sd">    - variavel_qualitativa: Nome da coluna que representa a variável qualitativa.</span>
<span class="sd">    - metadados: Dicionário opcional de metadados para mapear os valores da variável qualitativa.</span>
<span class="sd">    - ordem: Lista opcional que especifica a ordem desejada para o índice da tabela de frequência.</span>
<span class="sd">            Se None (padrão), assume-se que a variável é nominal e não existe ordenação dentre as categorias.</span>
<span class="sd">            Se uma lista é fornecida, a variável é tratada como ordinal e existe uma ordenação entre as categorias.</span>
<span class="sd">    - bins: Tamanho de faixas de agrupamento para variaveis quantitativas.</span>

<span class="sd">    Retorna:</span>
<span class="sd">    - DataFrame contendo tabelas de frequência com as colunas &#39;Frequência Absoluta&#39;, &#39;Frequência Relativa&#39; e &#39;Frequência Acumulada&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Verifica se df é um DataFrame</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;O argumento &#39;df&#39; deve ser um DataFrame do pandas, mas foi fornecido um objeto do tipo </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="c1"># Verifica se a variável qualitativa está presente no DataFrame</span>
    <span class="k">if</span> <span class="n">variavel_qualitativa</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;A coluna &#39;</span><span class="si">{</span><span class="n">variavel_qualitativa</span><span class="si">}</span><span class="s2">&#39; não está presente no DataFrame.&quot;</span><span class="p">)</span>

    <span class="n">dataframe_variavel_qualitativa</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">variavel_qualitativa</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">metadados</span><span class="p">:</span>
      <span class="n">dataframe_variavel_qualitativa</span> <span class="o">=</span> <span class="n">dataframe_variavel_qualitativa</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">metadados</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">bins</span><span class="p">:</span>
      <span class="n">sort</span><span class="o">=</span><span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">sort</span><span class="o">=</span><span class="kc">True</span>

    <span class="c1"># Calcula a frequência absoluta</span>
    <span class="n">frequencia_absoluta</span> <span class="o">=</span> <span class="n">dataframe_variavel_qualitativa</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">bins</span> <span class="o">=</span> <span class="n">bins</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">variavel_qualitativa</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">):</span>
      <span class="n">ordem</span> <span class="o">=</span> <span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">variavel_qualitativa</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>


    <span class="c1"># Reindexa a frequencia_absoluta antes de calcular as outras frequências se uma ordem específica foi fornecida para o índice</span>
    <span class="k">if</span> <span class="n">ordem</span><span class="p">:</span>
      <span class="c1"># Verifica se os valores de ordem estão presente no index</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">valor</span> <span class="ow">in</span> <span class="n">ordem</span> <span class="k">for</span> <span class="n">valor</span> <span class="ow">in</span> <span class="n">dataframe_variavel_qualitativa</span><span class="o">.</span><span class="n">unique</span><span class="p">()):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pelo menos um valor de &#39;</span><span class="si">{</span><span class="n">ordem</span><span class="si">}</span><span class="s2">&#39; está diferente ou não está em &#39;</span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">dataframe_variavel_qualitativa</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
      <span class="n">frequencia_absoluta</span> <span class="o">=</span> <span class="n">frequencia_absoluta</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">ordem</span><span class="p">)</span>

    <span class="c1"># Calcula as frequências relativa e acumulada</span>
    <span class="n">frequencia_relativa</span> <span class="o">=</span> <span class="n">frequencia_absoluta</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataframe_variavel_qualitativa</span><span class="p">)</span>
    <span class="n">frequencia_acumulada</span> <span class="o">=</span> <span class="n">frequencia_relativa</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>

    <span class="c1"># Formata as colunas &#39;Frequência Relativa&#39; e &#39;Frequência Acumulada&#39;</span>
    <span class="n">formato_percentual</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">.2%</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="n">tabela_frequencia</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">&#39;Frequência Absoluta&#39;</span><span class="p">:</span> <span class="n">frequencia_absoluta</span><span class="p">,</span>
        <span class="s1">&#39;Frequência Relativa&#39;</span><span class="p">:</span> <span class="n">frequencia_relativa</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">formato_percentual</span><span class="p">),</span>
        <span class="s1">&#39;Frequência Acumulada&#39;</span><span class="p">:</span> <span class="n">frequencia_acumulada</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">formato_percentual</span><span class="p">)</span>
    <span class="p">})</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="n">variavel_qualitativa</span><span class="p">)</span>


    <span class="k">return</span> <span class="n">tabela_frequencia</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tabelas de frequência</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Tabela frequência de&quot;</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
  <span class="n">display</span><span class="p">(</span><span class="n">tabela_frequencia_qualitativa</span><span class="p">(</span><span class="n">categorical_variables</span><span class="p">,</span> <span class="n">var</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tabela frequência de Sexo
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Frequência Absoluta</th>
      <th>Frequência Relativa</th>
      <th>Frequência Acumulada</th>
    </tr>
    <tr>
      <th>Sexo</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Masculino</th>
      <td>676</td>
      <td>50.52%</td>
      <td>50.52%</td>
    </tr>
    <tr>
      <th>Feminino</th>
      <td>662</td>
      <td>49.48%</td>
      <td>100.00%</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tabela frequência de Fumante
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Frequência Absoluta</th>
      <th>Frequência Relativa</th>
      <th>Frequência Acumulada</th>
    </tr>
    <tr>
      <th>Fumante</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Não</th>
      <td>1064</td>
      <td>79.52%</td>
      <td>79.52%</td>
    </tr>
    <tr>
      <th>Sim</th>
      <td>274</td>
      <td>20.48%</td>
      <td>100.00%</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tabela frequência de Região
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Frequência Absoluta</th>
      <th>Frequência Relativa</th>
      <th>Frequência Acumulada</th>
    </tr>
    <tr>
      <th>Região</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Sudeste</th>
      <td>364</td>
      <td>27.20%</td>
      <td>27.20%</td>
    </tr>
    <tr>
      <th>Centro</th>
      <td>325</td>
      <td>24.29%</td>
      <td>51.49%</td>
    </tr>
    <tr>
      <th>Norte</th>
      <td>325</td>
      <td>24.29%</td>
      <td>75.78%</td>
    </tr>
    <tr>
      <th>Nordeste</th>
      <td>324</td>
      <td>24.22%</td>
      <td>100.00%</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tabela frequência de Categorias_IMC
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Frequência Absoluta</th>
      <th>Frequência Relativa</th>
      <th>Frequência Acumulada</th>
    </tr>
    <tr>
      <th>Categorias_IMC</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Muito abaixo do peso</th>
      <td>3</td>
      <td>0.22%</td>
      <td>0.22%</td>
    </tr>
    <tr>
      <th>Abaixo do peso</th>
      <td>17</td>
      <td>1.27%</td>
      <td>1.49%</td>
    </tr>
    <tr>
      <th>Peso normal</th>
      <td>225</td>
      <td>16.82%</td>
      <td>18.31%</td>
    </tr>
    <tr>
      <th>Acima do peso</th>
      <td>386</td>
      <td>28.85%</td>
      <td>47.16%</td>
    </tr>
    <tr>
      <th>Obesidade I</th>
      <td>391</td>
      <td>29.22%</td>
      <td>76.38%</td>
    </tr>
    <tr>
      <th>Obesidade II</th>
      <td>224</td>
      <td>16.74%</td>
      <td>93.12%</td>
    </tr>
    <tr>
      <th>Obesidade III</th>
      <td>92</td>
      <td>6.88%</td>
      <td>100.00%</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em><strong>Insights</strong></em></p>
<p>Podemos obter os seguintes <em>insights</em> nas tabelas de frequência das variáveis qualitativas:</p>
<ul>
<li><p><strong>Sexo:</strong>
A proporção de homens (50,52%) e mulheres (49,48%) na amostra são muito próximas, indicando uma distribuição equitativa entre os sexos.</p></li>
<li><p><strong>Fumante:</strong>
A frequência de fumantes na empresa é de 20,48%, o que representa uma diferença significativa em relação à taxa nacional de fumantes com 18 anos ou mais, que é de 9,3% (dados do <a class="reference external" href="https://www.gov.br/saude/pt-br/centrais-de-conteudo/publicacoes/svsa/vigitel/vigitel-brasil-2006-2023-tabagismo-e-consumo-abusivo-de-alcool/view">Vigitel 2023</a>). Essa diferença de 11,18 pontos percentuais destaca a importância de estratégias específicas para redução do tabagismo entre os colaboradores e pode ser adotada como meta inicial de redução da taxa na empresa.</p></li>
<li><p><strong>Região:</strong>
A distribuição dos colaboradores por região apresenta frequências muito similares.</p></li>
<li><p><strong>Categorias de IMC (Índice de Massa Corporal):</strong>
A maioria dos indivíduos na amostra se encontram na categoria Obesidade I (29,22%), no entanto, somadas as obesidades I, II e III nota-se que mais da metade dos colaboradores estão obesos. Isso destaca a necessidade de implementar programas de gerenciamento de peso e promoção de hábitos saudáveis, como alimentação equilibrada e prática regular de exercícios físicos, visando reduzir os custos associados a condições relacionadas à obesidade.</p>
<blockquote>
<div><p>Observando as distribuições das variáveis Sexo e Região, podemos confirmar a utilização da amostragem estratificada, na qual a divisão em grupos (estratos), buscam representar as subpopulações presentes na população. Esse método evita possíveis distorções na análise, proporcionando uma representação mais precisa e equilibrada dos dados coletados.</p>
</div></blockquote>
</li>
</ul>
</section>
</section>
</section>
</section>
<section id="preparacao-dos-dados">
<h2>3. Preparação dos Dados<a class="headerlink" href="#preparacao-dos-dados" title="Link to this heading">#</a></h2>
<section id="selecao-das-variaveis">
<h3>3.1 Seleção das variáveis<a class="headerlink" href="#selecao-das-variaveis" title="Link to this heading">#</a></h3>
<section id="analise-de-correlacao-e-associacao">
<h4>3.1.1 Análise de Correlação e Associação<a class="headerlink" href="#analise-de-correlacao-e-associacao" title="Link to this heading">#</a></h4>
<p>Nesta etapa, analisaremos o comportamento conjunto de duas variáveis investigando potenciais relações causais para o custo do plano de saúde da empresa. Isso nos possibilitará abordar as questões de negócios levantadas, tais como:</p>
<ul class="simple">
<li><p>Quais fatores estão mais relacionados com o custo do plano de saúde?</p></li>
<li><p>Que tipo de ações preventivas a empresa pode fazer de forma a diminuir esse custo?</p></li>
</ul>
<section id="analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-numericas">
<h5>3.1.1.1 Análise de Correlação e medidas de associação entre variáveis numéricas<a class="headerlink" href="#analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-numericas" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gráficos de dispersão com linha de regressão</span>
<span class="c1"># Colunas que queremos plotar em relação a &#39;Custo_Saude&#39;</span>
<span class="n">columns_to_plot</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Idade&#39;</span><span class="p">,</span> <span class="s1">&#39;IMC&#39;</span><span class="p">,</span> <span class="s1">&#39;Qte_Filhos&#39;</span><span class="p">]</span>

<span class="c1"># Criando a figura e os subplots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">columns_to_plot</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># Iterando sobre as colunas e criando os gráficos de dispersão com linha de regressão</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">columns_to_plot</span><span class="p">):</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">line_kws</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">))</span>

    <span class="c1"># Calculando o coeficiente de correlação (r)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">base</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">])</span>

    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> vs. Custo de Saúde (r=</span><span class="si">{</span><span class="n">r</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Custo de Saúde&#39;</span><span class="p">)</span>

<span class="c1"># Exibindo o gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/f10066679b35d0d2ba11b422415f609cac79ceeac1fe995455e3e3b6ee57c1c2.png" src="../../_images/f10066679b35d0d2ba11b422415f609cac79ceeac1fe995455e3e3b6ee57c1c2.png" />
</div>
</div>
<p><em><strong>Insights</strong></em></p>
<p>Observando o gráfico de dispersão notamos a existência de uma relação fraca entre as variáveis explicativas quantitativas e a variável alvo “Custo_Saude”:</p>
<ul class="simple">
<li><p>Embora haja uma relação ligeiramente positiva na dispersão entre idade e o custo de saúde, a presença de agrupamentos lineares sugere que a variabilidade pode estar associada a outros fatores, os quais podem ou não estar presentes em nosso conjunto de dados.</p></li>
<li><p>O mesmo padrão é observado na variável IMC, que apresenta dois agrupamentos distintos.</p></li>
<li><p>A dispersão entre a quantidade de filhos e o custo de saúde apresenta um comportamento incomum. Mesmo que a relação entre as duas variáveis seja ligeiramente positiva, a maior variância está em quantidades menores de filhos.</p></li>
</ul>
<p><strong>Coeficiente de Correlação de Pearson entre variáveis numéricas</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculando a matriz de correlação</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">numerical_variables</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="c1"># Plotando a matriz de correlação usando seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">diverging_palette</span><span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">as_cmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlação&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/21f8a676b1cb3940c8863d378bfc47860ace60d199485847fdc08a8f19d1614c.png" src="../../_images/21f8a676b1cb3940c8863d378bfc47860ace60d199485847fdc08a8f19d1614c.png" />
</div>
</div>
<p>Pouca correlação entre as variáveis numéricas.</p>
</section>
<section id="analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-categoricas">
<h5>3.1.1.2 Análise de Correlação e medidas de associação entre variáveis categóricas<a class="headerlink" href="#analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-categoricas" title="Link to this heading">#</a></h5>
<p>Podemos analisar a distribuição da variável Custo_Saude, que é uma variável quantitativa, em relação a cada variável categórica construindo boxplots individuais para cada categoria.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Boxplots de variáveis categóricas x Custo_Saude</span>
<span class="c1"># Configurar o tamanho do gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Iterar sobre cada feature e criar boxplot</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">var</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">var</span><span class="p">,</span> <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">meanprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                       <span class="s2">&quot;markeredgecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
                       <span class="s2">&quot;markersize&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">})</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Boxplots de variáveis categóricas em relação a Custo_Saude&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/e750bac15fb93c1f4be6483eaf3f6a56dde4fdf62f79781083674136b55fde1f.png" src="../../_images/e750bac15fb93c1f4be6483eaf3f6a56dde4fdf62f79781083674136b55fde1f.png" />
</div>
</div>
<p><em><strong>Insights</strong></em></p>
<ul class="simple">
<li><p>As distribuições dos custos de saúde entre homens e mulheres são semelhantes até o segundo quartil. A partir desse ponto, as distribuições para o sexo masculino apresentam uma maior dispersão nos quartis subsequentes e muitas observações discrepantes (<em>outliers</em>) para os dois sexos.</p></li>
<li><p>As medidas de posição do custo de saúde pela variável fumante indicam uma disparidade significativa na distribuição entre fumantes e não fumantes. É altamente provável que essa variável tenha uma forte influência na explicação da variabilidade do “Custo_Saude” pelo modelo de regressão linear, resultando em um aumento do R². Isso implica que as estimativas geradas pelo modelo serão ainda mais precisas na prática.</p></li>
<li><p>As regiões apresentam um número significativo de observações discrepantes (<em>outliers</em>) nos custos de saúde, sendo a região Sudeste a que possui a maior dispersão para os custos.</p></li>
<li><p>As categorias de IMC apresentam médias e dispersões superiores para as três classes de obesidade em comparação com as demais classes.</p></li>
</ul>
<p><strong>Para medir a associação entre variáveis qualitativas e a variável Custo_Saude utilizamos o Coeficiente de Determinação (R²)</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Função r2</span>
<span class="k">def</span> <span class="nf">r2</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">feature</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calcula o Coeficiente de Determinação (R²) para uma variável qualitativa e uma variável quantitativa em um DataFrame.</span>

<span class="sd">    Parâmetros:</span>
<span class="sd">    - df: DataFrame pandas contendo os dados.</span>
<span class="sd">    - feature: Nome da coluna que representa a variável qualitativa.</span>
<span class="sd">      - Para calculo de R² combinado, informar uma lista de variáveis.</span>
<span class="sd">    - target: Nome da coluna que representa a variável quantitativa.</span>

<span class="sd">    Retorna:</span>
<span class="sd">    - Coeficiente de Determinação (R²) em (%) e nomes da feature e target em uma tupla.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">varp</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Criar tabela de contagem e variância</span>
    <span class="n">tabela</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">varp</span><span class="p">],</span> <span class="n">margins</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">margins_name</span><span class="o">=</span><span class="s1">&#39;Total&#39;</span><span class="p">)</span> <span class="c1">#margins=True retorna os totais</span>
    <span class="n">tabela</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;varp&#39;</span><span class="p">]</span>

    <span class="c1"># Separando o total dos demais dados</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">tabela</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">tabela</span><span class="o">.</span><span class="n">last_valid_index</span><span class="p">()]]</span>

    <span class="c1"># Filtrando os demais dados sem o total e removendo linhas NaN.</span>
    <span class="n">tabela</span> <span class="o">=</span> <span class="n">tabela</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">tabela</span><span class="o">.</span><span class="n">last_valid_index</span><span class="p">())</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

    <span class="c1"># Calcular variância ponderada total</span>
    <span class="n">var_ponderada</span> <span class="o">=</span> <span class="p">(</span><span class="n">tabela</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]</span> <span class="o">@</span> <span class="n">tabela</span><span class="p">[</span><span class="s1">&#39;varp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">total</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Calcular R²</span>
    <span class="n">r2_valor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">var_ponderada</span> <span class="o">/</span> <span class="n">total</span><span class="p">[</span><span class="s1">&#39;varp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">r2_valor</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">r2_valor</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">feature</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">r2_valor</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Iterando entre as variáveis categóricas para calcular o r2 </span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">r2</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;Custo_Saude&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;Sexo&#39;, &#39;Custo_Saude&#39;, 0.33)
(&#39;Fumante&#39;, &#39;Custo_Saude&#39;, 61.98)
(&#39;Região&#39;, &#39;Custo_Saude&#39;, 0.66)
(&#39;Categorias_IMC&#39;, &#39;Custo_Saude&#39;, 4.66)
</pre></div>
</div>
</div>
</div>
<p>A variável Fumante explica 61,98% dos custos de saúde na empresa, seguida por Categorias_IMC que explica apenas 4,66% desses custos.</p>
</section>
</section>
<section id="analise-multivariada">
<h4>3.1.2 Análise Multivariada<a class="headerlink" href="#analise-multivariada" title="Link to this heading">#</a></h4>
<section id="distribuicao-das-variaveis-categoricas-no-custo-saude-x-idade">
<h5>3.1.2.1 Distribuição das variáveis categóricas no Custo_Saude x Idade<a class="headerlink" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-idade" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configurar o tamanho do gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Iterar sobre cada feature e criar boxplot</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Idade&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">var</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Distribuição das variáveis categóricas no Custo_Saude x Idade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/0b1dd0c12f8d86a0f03ba171b622101d34aa5b5662e3563372d46ada931c2e66.png" src="../../_images/0b1dd0c12f8d86a0f03ba171b622101d34aa5b5662e3563372d46ada931c2e66.png" />
</div>
</div>
<p>Nos gráficos apresentados, é possível observar a distribuição das classes de variáveis categóricas em relação ao custo de saúde versus idade, destacando um agrupamento de colaboradores fumantes com custos máximos e não fumantes com custos mínimos no plano de saúde.</p>
</section>
<section id="distribuicao-das-variaveis-categoricas-no-custo-saude-x-imc">
<h5>3.1.2.2 Distribuição das variáveis categóricas no Custo_Saude x IMC<a class="headerlink" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-imc" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configurar o tamanho do gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Iterar sobre cada feature e criar boxplot</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;IMC&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">var</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Distribuição das variáveis categóricas no Custo_Saude x IMC&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/d6ec580dd0b828c8dbf8ce42a635a34bfb67035338a8b6d0f2136f231512862c.png" src="../../_images/d6ec580dd0b828c8dbf8ce42a635a34bfb67035338a8b6d0f2136f231512862c.png" />
</div>
</div>
<p>A variável “Fumante” exerce uma influência considerável nos custos de saúde, especialmente quando combinada com um Índice de Massa Corporal (IMC) superior a 30, ou seja, fumantes com obesidade.</p>
</section>
<section id="distribuicao-das-variaveis-categoricas-no-custo-saude-x-qte-filhos">
<h5>3.1.2.3 Distribuição das variáveis categóricas no Custo_Saude x Qte_Filhos<a class="headerlink" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-qte-filhos" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configurar o tamanho do gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Iterar sobre cada feature e criar boxplot</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Qte_Filhos&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">var</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Distribuição das variáveis categóricas no Custo_Saude x Qte_Filhos&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/92fdd81203af7aa5622082dd5aa3f0466398e9f7051ff85a6dc9d8c05805f2d3.png" src="../../_images/92fdd81203af7aa5622082dd5aa3f0466398e9f7051ff85a6dc9d8c05805f2d3.png" />
</div>
</div>
<p>Aparentemente, ter mais filhos não resulta em um aumento significativo nos custos do plano de saúde, ao contrário do que inicialmente se pensava. Mais uma vez, é a variável “Fumante” quem está associada ao aumento nos custos.</p>
</section>
<section id="boxplots-de-categorias-de-fumantes-por-regiao-em-relacao-a-custo-saude">
<h5>3.1.2.4 Boxplots de categorias de Fumantes por Região em relação a Custo_Saude<a class="headerlink" href="#boxplots-de-categorias-de-fumantes-por-regiao-em-relacao-a-custo-saude" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Região&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Região&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">,</span>
    <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">meanprops</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markeredgecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markersize&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">},</span>
    <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">margin_titles</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mf">1.3</span><span class="p">,</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;Fumante&quot;</span>
<span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Boxplots de categorias de Fumantes por Região em relação a Custo_Saude&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="n">g</span><span class="o">.</span><span class="n">set_titles</span><span class="p">(</span><span class="n">col_template</span><span class="o">=</span><span class="s2">&quot;Fumante: </span><span class="si">{col_name}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/f130e8892612a46a411bda8554b4de13e7f1c92cf43571d913031a60a9a6d0c1.png" src="../../_images/f130e8892612a46a411bda8554b4de13e7f1c92cf43571d913031a60a9a6d0c1.png" />
</div>
</div>
<p>A análise dos boxplots sugere que a variável região não exerce um impacto significativo nos custos de saúde entre fumantes e não fumantes, indicando que não há contribuições relevantes desta variável para o aumento dos custos de saúde.</p>
</section>
<section id="boxplots-de-categorias-de-fumantes-por-sexo-em-relacao-a-custo-saude">
<h5>3.1.2.5 Boxplots de categorias de Fumantes por Sexo em relação a Custo_Saude<a class="headerlink" href="#boxplots-de-categorias-de-fumantes-por-sexo-em-relacao-a-custo-saude" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sexo&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Sexo&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">,</span>
    <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">meanprops</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markeredgecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markersize&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">},</span>
    <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">margin_titles</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mf">1.3</span><span class="p">,</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;Fumante&quot;</span>
<span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Boxplots de categorias de Fumantes por Sexo em relação a Custo_Saude&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="n">g</span><span class="o">.</span><span class="n">set_titles</span><span class="p">(</span><span class="n">col_template</span><span class="o">=</span><span class="s2">&quot;Fumante: </span><span class="si">{col_name}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/7bb76690d6f47ab4645b1dacecfd04de55d16ea2cd52a12def82d0868c529030.png" src="../../_images/7bb76690d6f47ab4645b1dacecfd04de55d16ea2cd52a12def82d0868c529030.png" />
</div>
</div>
<p>Da mesma forma, a variável sexo aparenta não contribuir para o aumento dos custos de saúde entre fumantes.</p>
</section>
<section id="boxplots-de-categorias-de-fumantes-por-categorias-imc-em-relacao-a-custo-saude">
<h5>3.1.2.6 Boxplots de categorias de Fumantes por Categorias_IMC em relação a Custo_Saude<a class="headerlink" href="#boxplots-de-categorias-de-fumantes-por-categorias-imc-em-relacao-a-custo-saude" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">base</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Categorias_IMC&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Categorias_IMC&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">,</span>
    <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">meanprops</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markeredgecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markersize&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">},</span>
    <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">margin_titles</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mf">1.3</span><span class="p">,</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;Fumante&quot;</span>
<span class="p">)</span>

<span class="c1"># Configurar título</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Boxplots de categorias de Fumantes por Categorias_IMC em relação a Custo_Saude&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>


<span class="n">g</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">set_titles</span><span class="p">(</span><span class="n">col_template</span><span class="o">=</span><span class="s2">&quot;Fumante: </span><span class="si">{col_name}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/3cbe8fbdd20339dd00679519410f44fda0eb162355918f6029b5d9fe6acb3d50.png" src="../../_images/3cbe8fbdd20339dd00679519410f44fda0eb162355918f6029b5d9fe6acb3d50.png" />
</div>
</div>
<p>Por outro lado, as categorias de IMC revelam um aumento progressivo nos custos para as combinações de fumantes com obesidade I, II e III, sugerindo uma contribuição significativa para o nosso modelo de regressão.</p>
</section>
<section id="medindo-o-r2-de-combinacoes-pareadas-de-variaveis-categoricas">
<h5>3.1.2.7 Medindo o R² de combinações pareadas de variáveis categóricas<a class="headerlink" href="#medindo-o-r2-de-combinacoes-pareadas-de-variaveis-categoricas" title="Link to this heading">#</a></h5>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span>

<span class="c1"># Gerando todas as combinações possíveis de tamanho 2 entre as variáveis</span>
<span class="n">combinations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">categorical_variables</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">combinations</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">r2</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="s1">&#39;Custo_Saude&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((&#39;Sexo&#39;, &#39;Fumante&#39;), &#39;Custo_Saude&#39;, 62.23)
((&#39;Sexo&#39;, &#39;Região&#39;), &#39;Custo_Saude&#39;, 1.15)
((&#39;Sexo&#39;, &#39;Categorias_IMC&#39;), &#39;Custo_Saude&#39;, 5.24)
((&#39;Fumante&#39;, &#39;Região&#39;), &#39;Custo_Saude&#39;, 62.75)
((&#39;Fumante&#39;, &#39;Categorias_IMC&#39;), &#39;Custo_Saude&#39;, 76.9)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((&#39;Região&#39;, &#39;Categorias_IMC&#39;), &#39;Custo_Saude&#39;, 5.74)
</pre></div>
</div>
</div>
</div>
<p>Finalmente, mensuramos que as variáveis Fumante e Categorias_IMC, em conjunto, explicam 76,9% dos custos de saúde na empresa, o que representa um incremento de 14,92 pontos percentuais em relação à variável Fumante isolada, que explicava apenas 61,98%.</p>
</section>
</section>
</section>
</section>
<section id="desenvolvendo-o-modelo-inferencial">
<h2>4. Desenvolvendo o Modelo Inferencial<a class="headerlink" href="#desenvolvendo-o-modelo-inferencial" title="Link to this heading">#</a></h2>
<p>Nas etapas anteriores, identificamos as variáveis que influenciam os altos custos de saúde na empresa. No entanto, podemos refinar ainda mais nosso entendimento, ajustando um modelo de regressão linear com todas as variáveis e realizando um processo iterativo para determinar quais variáveis devem ser incluídas ou excluídas do modelo. Desta forma, nesta etapa do projeto, aplicaremos a técnica “Regressão Linear Múltipla” para entender como cada variável explica o custo de saúde.</p>
<section id="amostragem-estratificada">
<h3>4.1 Amostragem estratificada<a class="headerlink" href="#amostragem-estratificada" title="Link to this heading">#</a></h3>
<p>Neste estudo, observa-se que a amostragem é estratificada, dividida em grupos populacionais (estratos) com base em características específicas. Neste método de coleta de dados, uma amostra é selecionada de cada estrato, assegurando representatividade de toda a população e inclusão de todas as subpopulações na amostra.</p>
<p><strong>Confirmando que a amostra aleatória foi coletada de forma estratificada pelas variáveis sexo e região:</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Porcentagem por sexo na amostra:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Sexo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Porcentagem por região na amostra:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Região&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Porcentagem por sexo na amostra:
Masculino    50.523169
Feminino     49.476831
Name: Sexo, dtype: float64

Porcentagem por região na amostra:
Sudeste     27.204783
Centro      24.289985
Norte       24.289985
Nordeste    24.215247
Name: Região, dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="tamanho-da-amostra">
<h3>4.2 Tamanho da amostra<a class="headerlink" href="#tamanho-da-amostra" title="Link to this heading">#</a></h3>
<p>O cálculo do tamanho da amostra é importante, pois quanto maior a amostra, mais precisa será a estimativa da população. Vamos assumir um erro amostral de 5% e considerar que a população total é composta por aproximadamente 20 mil colaboradores.</p>
<section id="calculo-amostral-utilizando-a-formula-de-slovin">
<h4>4.2.1 Cálculo amostral utilizando a fórmula de Slovin<a class="headerlink" href="#calculo-amostral-utilizando-a-formula-de-slovin" title="Link to this heading">#</a></h4>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Função para cálculo amostral padrão para uma população heterogênea</span>
<span class="k">def</span> <span class="nf">calculoAmostral</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
  <span class="n">n</span> <span class="o">=</span> <span class="p">(</span><span class="n">N</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="p">(</span><span class="n">e</span><span class="o">**</span><span class="mi">2</span><span class="p">))))</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="c1"># Erro amostral definido para o estudo</span>
<span class="n">erro</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="c1"># População estimada para o estudo</span>
<span class="n">populacao</span> <span class="o">=</span> <span class="mi">20000</span>

<span class="c1"># Cálculo da amostra</span>
<span class="n">amostra</span> <span class="o">=</span> <span class="n">calculoAmostral</span><span class="p">(</span><span class="n">erro</span><span class="p">,</span> <span class="n">populacao</span><span class="p">)</span>
<span class="c1"># arredondar o resultado para valores inteiros</span>
<span class="n">tamanho</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">amostra</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;A partir da fórmula de Slovin, foi estimado </span><span class="si">{</span><span class="n">tamanho</span><span class="si">}</span><span class="s1"> como um tamanho amostral mínimo.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A partir da fórmula de Slovin, foi estimado 392 como um tamanho amostral mínimo.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id1">
<h3>4.3 Preparação dos Dados<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Removendo a variável &#39;Categorias_IMC&#39; para evitar multicolinearidade com IMC</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Categorias_IMC&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Criando variáveis Dummy</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Idade</th>
      <th>IMC</th>
      <th>Qte_Filhos</th>
      <th>Custo_Saude</th>
      <th>Sexo_Masculino</th>
      <th>Fumante_Sim</th>
      <th>Região_Nordeste</th>
      <th>Região_Norte</th>
      <th>Região_Sudeste</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>764</th>
      <td>45</td>
      <td>25.175</td>
      <td>2</td>
      <td>909.506825</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>887</th>
      <td>36</td>
      <td>30.020</td>
      <td>0</td>
      <td>527.217580</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>890</th>
      <td>64</td>
      <td>26.885</td>
      <td>0</td>
      <td>2933.098315</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1293</th>
      <td>46</td>
      <td>25.745</td>
      <td>3</td>
      <td>930.189355</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>259</th>
      <td>19</td>
      <td>31.920</td>
      <td>0</td>
      <td>3375.029180</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Idade&#39;, &#39;IMC&#39;, &#39;Qte_Filhos&#39;, &#39;Custo_Saude&#39;, &#39;Sexo_Masculino&#39;,
       &#39;Fumante_Sim&#39;, &#39;Região_Nordeste&#39;, &#39;Região_Norte&#39;, &#39;Região_Sudeste&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Separando as variáveis</span>
<span class="c1"># Variável resposta</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span>

<span class="c1"># Variáveis explicativas</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Definindo o intercepto na posição 0 do dataframe</span>
<span class="n">x</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;intercepto&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="ajuste-do-modelo-de-regressao-linear-multipla">
<h3>4.4 Ajuste do Modelo de Regressão Linear Múltipla<a class="headerlink" href="#ajuste-do-modelo-de-regressao-linear-multipla" title="Link to this heading">#</a></h3>
<p>Para ajustar o modelo, adotaremos o método de seleção de variáveis baseado no p-valor, utilizando a exclusão progressiva. Iniciaremos com um modelo contendo todas as variáveis e, em seguida, removeremos uma a uma, mantendo apenas aquelas com p-valores significativamente baixos. Essa abordagem é uma técnica amplamente utilizada na seleção de variáveis em modelos de regressão linear, visando alcançar um modelo mais conciso e elucidativo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ajusta o modelo e retorna os resultados</span>
<span class="n">modelo</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span> <span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:            Custo_Saude   R-squared:                       0.751
Model:                            OLS   Adj. R-squared:                  0.749
Method:                 Least Squares   F-statistic:                     500.8
Date:                seg, 08 jul 2024   Prob (F-statistic):               0.00
Time:                        10:36:12   Log-Likelihood:                -10467.
No. Observations:                1338   AIC:                         2.095e+04
Df Residuals:                    1329   BIC:                         2.100e+04
Df Model:                           8                                         
Covariance Type:            nonrobust                                         
===================================================================================
                      coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------
intercepto      -1289.8590    102.096    -12.634      0.000   -1490.147   -1089.571
Idade              25.6856      1.190     21.587      0.000      23.351      28.020
IMC                33.9193      2.860     11.860      0.000      28.309      39.530
Qte_Filhos         47.5501     13.780      3.451      0.001      20.516      74.584
Sexo_Masculino    -13.1314     33.295     -0.394      0.693     -78.447      52.184
Fumante_Sim      2384.8535     41.315     57.723      0.000    2303.803    2465.904
Região_Nordeste    96.0051     47.793      2.009      0.045       2.247     189.764
Região_Norte       60.7087     47.720      1.272      0.204     -32.907     154.324
Região_Sudeste     -7.4971     47.064     -0.159      0.873     -99.825      84.830
==============================================================================
Omnibus:                      300.366   Durbin-Watson:                   2.088
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              718.887
Skew:                           1.211   Prob(JB):                    7.86e-157
Kurtosis:                       5.651   Cond. No.                         326.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<p>Como o coeficiente da variável ‘Região_Sudeste’ e de outras variáveis apresentou-se estatisticamente igual a zero, vamos excluí-las do modelo. No entanto, para avaliar o verdadeiro impacto no modelo, é recomendado remover uma variável de cada vez e observar as mudanças resultantes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#removendo a variável Região_Sudeste que apresentou o maior p-valor</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Região_Sudeste&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Ajusta o modelo e retorna os resultados</span>
<span class="n">modelo</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span> <span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:            Custo_Saude   R-squared:                       0.751
Model:                            OLS   Adj. R-squared:                  0.750
Method:                 Least Squares   F-statistic:                     572.8
Date:                seg, 08 jul 2024   Prob (F-statistic):               0.00
Time:                        10:36:12   Log-Likelihood:                -10467.
No. Observations:                1338   AIC:                         2.095e+04
Df Residuals:                    1330   BIC:                         2.099e+04
Df Model:                           7                                         
Covariance Type:            nonrobust                                         
===================================================================================
                      coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------
intercepto      -1291.5392    101.513    -12.723      0.000   -1490.682   -1092.396
Idade              25.6913      1.189     21.609      0.000      23.359      28.024
IMC                33.8419      2.817     12.012      0.000      28.315      39.369
Qte_Filhos         47.6147     13.769      3.458      0.001      20.603      74.627
Sexo_Masculino    -13.1318     33.282     -0.395      0.693     -78.423      52.160
Fumante_Sim      2384.4299     41.215     57.854      0.000    2303.577    2465.283
Região_Nordeste    99.7414     41.627      2.396      0.017      18.080     181.403
Região_Norte       64.4289     41.600      1.549      0.122     -17.180     146.038
==============================================================================
Omnibus:                      300.090   Durbin-Watson:                   2.088
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              717.871
Skew:                           1.210   Prob(JB):                    1.31e-156
Kurtosis:                       5.649   Cond. No.                         320.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#removendo a variável Sexo_Masculino que apresentou o maior p-valor</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Sexo_Masculino&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Ajusta o modelo e retorna os resultados</span>
<span class="n">modelo</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span> <span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:            Custo_Saude   R-squared:                       0.751
Model:                            OLS   Adj. R-squared:                  0.750
Method:                 Least Squares   F-statistic:                     668.6
Date:                seg, 08 jul 2024   Prob (F-statistic):               0.00
Time:                        10:36:12   Log-Likelihood:                -10467.
No. Observations:                1338   AIC:                         2.095e+04
Df Residuals:                    1331   BIC:                         2.098e+04
Df Model:                           6                                         
Covariance Type:            nonrobust                                         
===================================================================================
                      coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------
intercepto      -1296.6452    100.653    -12.882      0.000   -1494.100   -1099.190
Idade              25.7030      1.188     21.632      0.000      23.372      28.034
IMC                33.7890      2.813     12.011      0.000      28.270      39.308
Qte_Filhos         47.5213     13.763      3.453      0.001      20.522      74.521
Fumante_Sim      2383.2064     41.085     58.007      0.000    2302.609    2463.804
Região_Nordeste    99.6744     41.613      2.395      0.017      18.039     181.309
Região_Norte       64.4401     41.587      1.550      0.121     -17.143     146.023
==============================================================================
Omnibus:                      300.460   Durbin-Watson:                   2.089
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              719.502
Skew:                           1.211   Prob(JB):                    5.78e-157
Kurtosis:                       5.653   Cond. No.                         318.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#removendo a variável Região_Norte que apresentou o maior p-valor</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Região_Norte&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Ajusta o modelo e retorna os resultados</span>
<span class="n">modelo</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span> <span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:            Custo_Saude   R-squared:                       0.750
Model:                            OLS   Adj. R-squared:                  0.749
Method:                 Least Squares   F-statistic:                     801.0
Date:                seg, 08 jul 2024   Prob (F-statistic):               0.00
Time:                        10:36:12   Log-Likelihood:                -10468.
No. Observations:                1338   AIC:                         2.095e+04
Df Residuals:                    1332   BIC:                         2.098e+04
Df Model:                           5                                         
Covariance Type:            nonrobust                                         
===================================================================================
                      coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------
intercepto      -1251.2095     96.337    -12.988      0.000   -1440.199   -1062.220
Idade              25.7406      1.189     21.657      0.000      23.409      28.072
IMC                32.9463      2.762     11.930      0.000      27.529      38.364
Qte_Filhos         47.9514     13.767      3.483      0.001      20.943      74.960
Fumante_Sim      2380.8135     41.077     57.959      0.000    2300.230    2461.397
Região_Nordeste    77.3946     39.071      1.981      0.048       0.747     154.042
==============================================================================
Omnibus:                      302.023   Durbin-Watson:                   2.083
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              727.655
Skew:                           1.215   Prob(JB):                    9.81e-159
Kurtosis:                       5.674   Cond. No.                         300.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#removendo a variável Região_Nordeste que apresentou o maior p-valor</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Região_Nordeste&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Ajusta o modelo e retorna os resultados</span>
<span class="n">modelo</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span> <span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:            Custo_Saude   R-squared:                       0.750
Model:                            OLS   Adj. R-squared:                  0.749
Method:                 Least Squares   F-statistic:                     998.1
Date:                seg, 08 jul 2024   Prob (F-statistic):               0.00
Time:                        10:36:12   Log-Likelihood:                -10470.
No. Observations:                1338   AIC:                         2.095e+04
Df Residuals:                    1333   BIC:                         2.098e+04
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
===============================================================================
                  coef    std err          t      P&gt;|t|      [0.025      0.975]
-------------------------------------------------------------------------------
intercepto  -1210.2769     94.198    -12.848      0.000   -1395.070   -1025.484
Idade          25.7850      1.190     21.675      0.000      23.451      28.119
IMC            32.1851      2.738     11.756      0.000      26.814      37.556
Qte_Filhos     47.3502     13.779      3.436      0.001      20.319      74.381
Fumante_Sim  2381.1400     41.122     57.904      0.000    2300.469    2461.811
==============================================================================
Omnibus:                      301.480   Durbin-Watson:                   2.087
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              722.157
Skew:                           1.215   Prob(JB):                    1.53e-157
Kurtosis:                       5.654   Cond. No.                         292.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="validacao-do-trabalho">
<h2>5. Validação do trabalho<a class="headerlink" href="#validacao-do-trabalho" title="Link to this heading">#</a></h2>
<section id="diagnostico-do-modelo-analise-dos-residuos">
<h3>5.1 Diagnóstico do Modelo: Análise dos Resíduos<a class="headerlink" href="#diagnostico-do-modelo-analise-dos-residuos" title="Link to this heading">#</a></h3>
<p>Para que o modelo de Regressão Linear Múltipla possa dar boas estimativas com o mínimo de viés possível, algumas premissas/suposições devem ser atendidas.</p>
<section id="ausencia-de-multicolinearidade">
<h4>5.1.1 Ausência de multicolinearidade<a class="headerlink" href="#ausencia-de-multicolinearidade" title="Link to this heading">#</a></h4>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">base</span><span class="p">[[</span><span class="s1">&#39;Idade&#39;</span><span class="p">,</span> <span class="s1">&#39;IMC&#39;</span><span class="p">,</span> <span class="s1">&#39;Qte_Filhos&#39;</span><span class="p">]])</span>
<span class="c1"># Configurar título</span>
<span class="c1"># Definir o tamanho da figura</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Dispersão entre as variáveis do modelo&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.90</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># Ajustar a posição da legenda</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/27aab2f1d091484f49e2bb55d2aafdb9fb88fb6ab6236f4b52de21dd296704d4.png" src="../../_images/27aab2f1d091484f49e2bb55d2aafdb9fb88fb6ab6236f4b52de21dd296704d4.png" />
</div>
</div>
<p>A distribuição das variáveis no gráfico de dispersão sugere que elas se comportam de forma independente, descartando a presença de multicolinearidade no modelo.</p>
</section>
<section id="normalidade-dos-residuos">
<h4>5.1.2 Normalidade dos Resíduos<a class="headerlink" href="#normalidade-dos-residuos" title="Link to this heading">#</a></h4>
<p><strong>O erro deve ter média próxima de zero:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">round</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Função para gerar gráfico dos residuos</span>
<span class="k">def</span> <span class="nf">grafico_residuos</span><span class="p">(</span><span class="n">resultado</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">resid_graf</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="p">))),</span>
                                 <span class="n">y</span><span class="o">=</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

    <span class="c1"># Localizando valor mínimo dos resíduos</span>
    <span class="n">r_aux</span> <span class="o">=</span> <span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">r_aux</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">r_aux</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.1</span>

    <span class="c1"># Localizando valor máximo dos resíduos</span>
    <span class="n">r_aux</span> <span class="o">=</span> <span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">r_aux</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">ymax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r_aux</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.1</span>

    <span class="n">resid_graf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">))</span>

    <span class="n">ax1</span> <span class="o">=</span> <span class="n">resid_graf</span><span class="o">.</span><span class="n">axes</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Dispersão dos resíduos&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grafico_residuos</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/b202f510ce2a42cefc268ef2e75ae77b4a9c18fde02bb7c18e6d15f5e7061018.png" src="../../_images/b202f510ce2a42cefc268ef2e75ae77b4a9c18fde02bb7c18e6d15f5e7061018.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Construção de histograma para avaliar a distribuição dos resíduos</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribuição dos resíduos&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/faa4911610a8d0f842c73470ee41c078c3fe85993f21110da49d7fd5b77df5ce.png" src="../../_images/faa4911610a8d0f842c73470ee41c078c3fe85993f21110da49d7fd5b77df5ce.png" />
</div>
</div>
<p>A análise da dispersão e do histograma dos resíduos revela a presença de dois picos menores além da concentração central em torno de zero. Essa distribuição sugere que o modelo atual não está capturando completamente a variabilidade dos dados. A introdução de uma nova variável relevante pode ser necessária para explicar essa variabilidade adicional e aprimorar o ajuste do modelo.</p>
<p><strong>Teste de Hipóteses para avaliar Normalidade:</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Realização de Teste de Hipóteses para avaliar Normalidade</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">shapiro</span>
<span class="n">normalidade</span> <span class="o">=</span> <span class="n">shapiro</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Estatística=</span><span class="si">%.3f</span><span class="s1">, p-valor=</span><span class="si">%.3f</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">normalidade</span><span class="o">.</span><span class="n">statistic</span><span class="p">,</span> <span class="n">normalidade</span><span class="o">.</span><span class="n">pvalue</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estatística=0.900, p-valor=0.000
</pre></div>
</div>
</div>
</div>
<p>O resultado p-valor &lt; 0.05 no teste de Shapiro-Wilk indica que deve-se rejeitar a hipótese nula, ou seja, os resíduos da regressão linear múltipla não seguem uma distribuição normal.
No entanto, a estatística de teste é 0.900 (quanto mais próximo de 1, mais normalmente distribuídos são os resíduos), o que sugere que os resíduos estão relativamente próximos de uma distribuição normal, mas não perfeitamente.</p>
</section>
<section id="homocedasticidade-dos-residuos">
<h4>5.1.3 Homocedasticidade dos Resíduos<a class="headerlink" href="#homocedasticidade-dos-residuos" title="Link to this heading">#</a></h4>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">statsmodels.stats.diagnostic</span> <span class="kn">import</span> <span class="n">het_white</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;LM Statistic&#39;</span><span class="p">,</span> <span class="s1">&#39;LM-Test p-value&#39;</span><span class="p">,</span> <span class="s1">&#39;F-Statistic&#39;</span><span class="p">,</span> <span class="s1">&#39;F-Test p-value&#39;</span><span class="p">]</span>

<span class="n">white_test</span> <span class="o">=</span> <span class="n">het_white</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid_pearson</span><span class="p">,</span>
                       <span class="n">resultado</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">exog</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">white_test</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;LM Statistic&#39;: 128.47065644118692, &#39;LM-Test p-value&#39;: 4.214011485296054e-21, &#39;F-Statistic&#39;: 10.81763109783478, &#39;F-Test p-value&#39;: 3.040778066492286e-22}
</pre></div>
</div>
</div>
</div>
<p>Com base nos resultados, podemos concluir que há evidência estatística para rejeitar a hipótese nula de homocedasticidade. Isso indica que os resíduos da regressão linear múltipla exibem heterocedasticidade, o que sugere que a variância dos erros não é constante.</p>
</section>
<section id="premissas-suposicoes-para-o-modelo-inferencial">
<h4>5.1.4 Premissas/Suposições para o Modelo Inferencial<a class="headerlink" href="#premissas-suposicoes-para-o-modelo-inferencial" title="Link to this heading">#</a></h4>
<p>Checklist do modelo de regressão linear:</p>
<ol class="arabic simple contains-task-list">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> As variáveis explicativas devem ser <strong>lineares</strong> com a variável resposta.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> A amostra deve ser <strong>aleatória</strong>.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <strong>Ausência de multicolinearidade</strong> perfeita (as variáveis independentes devem ter pouca correlação/associação entre si).</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> O erro (diferença entre a variável resposta e a estimativa do modelo) deve ter <strong>média próxima de zero</strong>.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> O erro deve ter uma distribuição próxima da <strong>distribuição Normal</strong>.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> A dispersão de cada variável explicativa com erro deve ser constante, ao redor de 0 (zero). Essa suposição é chamada de <strong>Homocedasticidade</strong>.</p></li>
</ol>
<blockquote>
<div><p>Quando uma ou mais suposições não são atendidas, o processo de estimativa pode ter viés e, portanto, não há garantias de que as conclusões sejam boas o suficiente para se tomar uma decisão.</p>
</div></blockquote>
</section>
</section>
<section id="interpretacao-do-modelo">
<h3>5.2 Interpretação do Modelo<a class="headerlink" href="#interpretacao-do-modelo" title="Link to this heading">#</a></h3>
<p><strong>Equação do Modelo:</strong></p>
<p>Custo_Saude = <span class="math notranslate nohighlight">\(\beta_0\)</span> + <span class="math notranslate nohighlight">\(\beta_1\)</span> x Idade + <span class="math notranslate nohighlight">\(\beta_2\)</span> x IMC + <span class="math notranslate nohighlight">\(\beta_3\)</span> x Qte_Filhos + <span class="math notranslate nohighlight">\(\beta_4\)</span> x Fumante_Sim</p>
<ul class="simple">
<li><p><strong><span class="math notranslate nohighlight">\(\beta_0\)</span> ou Intercepto</strong>: <code class="docutils literal notranslate"><span class="pre">-R$1.210,28</span></code>.<br></p></li>
<li><p><strong><span class="math notranslate nohighlight">\(\beta_1\)</span> x Idade</strong>: Para cada ano de idade, mantendo todas as outras variáveis constantes, o custo de saúde aumenta em média <code class="docutils literal notranslate"><span class="pre">R$25,79</span></code>.<br></p></li>
<li><p><strong><span class="math notranslate nohighlight">\(\beta_2\)</span> x IMC</strong>: Cada unidade do IMC, mantendo todas as outras variáveis constantes, têm um aumento médio no custo de saúde de <code class="docutils literal notranslate"><span class="pre">R$32,19</span></code>.</p></li>
<li><p><strong><span class="math notranslate nohighlight">\(\beta_3\)</span> x Qte_Filhos</strong>: Cada filho adicional, mantendo todas as outras variáveis constantes, gera um aumento médio de <code class="docutils literal notranslate"><span class="pre">R$47,35</span></code>.<br></p></li>
<li><p><strong><span class="math notranslate nohighlight">\(\beta_4\)</span> x Fumante_Sim</strong>: Funcionários que são fumantes, mantendo todas as outras variáveis constantes, têm um custo médio de <code class="docutils literal notranslate"><span class="pre">R$2.381,14</span></code> a mais que os não fumantes.<br></p></li>
</ul>
</section>
<section id="verificacao-dos-criterios-de-sucesso">
<h3>5.3 Verificação dos critérios de sucesso<a class="headerlink" href="#verificacao-dos-criterios-de-sucesso" title="Link to this heading">#</a></h3>
<section id="estimativas-populacionais-de-ganho-geral">
<h4>5.3.1 Estimativas populacionais de ganho geral<a class="headerlink" href="#estimativas-populacionais-de-ganho-geral" title="Link to this heading">#</a></h4>
<p><strong>Simulação de ganho com a Cessação do Tabagismo na empresa:</strong></p>
<p>Calculando o intervalo de confiança para a proporção de fumantes na amostra:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n_amostra</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Fumante&#39;</span><span class="p">])</span>  <span class="c1"># tamanho da amostra</span>
<span class="n">n_fumantes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Fumante&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sim&#39;</span><span class="p">])</span>  <span class="c1"># número de fumantes</span>

<span class="c1"># Proporção observada de fumantes na amostra</span>
<span class="n">proporcao_fumantes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Fumante&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sim&#39;</span><span class="p">)</span>

<span class="c1"># Nível de confiança desejado</span>
<span class="n">confianca</span> <span class="o">=</span> <span class="mf">0.95</span>

<span class="c1"># Calcular o intervalo de confiança</span>
<span class="n">limite_inferior</span><span class="p">,</span> <span class="n">limite_superior</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">proportion_confint</span><span class="p">(</span><span class="n">n_fumantes</span><span class="p">,</span> <span class="n">n_amostra</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">confianca</span><span class="p">)</span>

<span class="c1"># Apresentar os resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;IC de </span><span class="si">{</span><span class="n">confianca</span><span class="si">:</span><span class="s2">.0%</span><span class="si">}</span><span class="s2"> para proporção </span><span class="si">{</span><span class="n">proporcao_fumantes</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2"> de fumantes:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Limite inferior: </span><span class="si">{</span><span class="n">limite_inferior</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Limite superior: </span><span class="si">{</span><span class="n">limite_superior</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>IC de 95% para proporção 20.48% de fumantes:
Limite inferior: 18.32%
Limite superior: 22.64%
</pre></div>
</div>
</div>
</div>
<p>Calculando a redução percentual necessária para alinhar a proporção de fumantes na empresa com a taxa nacional de fumantes:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">taxa_nacional_fumantes</span> <span class="o">=</span> <span class="mf">0.093</span> <span class="c1">#dado do [Vigitel 2023] https://www.gov.br/saude/pt-br/centrais-de-conteudo/publicacoes/svsa/vigitel/vigitel-brasil-2006-2023-tabagismo-e-consumo-abusivo-de-alcool/view</span>

<span class="n">reducao_fumantes</span> <span class="o">=</span> <span class="n">proporcao_fumantes</span> <span class="o">-</span> <span class="n">taxa_nacional_fumantes</span>
<span class="n">qtd_a_reduzir</span> <span class="o">=</span> <span class="n">reducao_fumantes</span> <span class="o">*</span> <span class="n">n_amostra</span>

<span class="n">reducao_fumantes_perc</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">qtd_a_reduzir</span><span class="o">/</span><span class="n">n_fumantes</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Redução percentual do total de fumantes: </span><span class="si">{</span><span class="n">reducao_fumantes_perc</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Redução percentual do total de fumantes: 45.41%
</pre></div>
</div>
</div>
</div>
<p>Utilizando a técnica de reamostragem bootstrap, estimamos a média do custo de saúde e calculamos um intervalo de confiança de 95%, possibilitando uma inferência robusta sobre o valor médio desse custo, mesmo diante da não normalidade da distribuição dos dados de saúde.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Realizando o bootstrap para estimar a média</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">((</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,),</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span> <span class="n">n_resamples</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">confidence_level</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">custo_saude_medio</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">bootstrap_distribution</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimativa da média de Custo_Saude: </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">custo_saude_medio</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalo de confiança (95%): ( </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">confidence_interval</span><span class="o">.</span><span class="n">low</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">confidence_interval</span><span class="o">.</span><span class="n">high</span><span class="p">)</span><span class="si">}</span><span class="s2"> )&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estimativa da média de Custo_Saude: R$ 1.327,83
Intervalo de confiança (95%): ( R$ 1.265,29, R$ 1.391,86 )
</pre></div>
</div>
</div>
</div>
<p>Agora, vamos reduzir a quantidade de fumantes em 45,41% para alinhar a proporção de fumantes com a taxa nacional.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simulação da situação em que uma % dos fumantes deixam de fumar</span>
<span class="k">def</span> <span class="nf">simular_media_reducao_fumantes</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">reducao_fumantes</span><span class="p">):</span>
    <span class="c1"># Criando uma cópia do DataFrame para simulação</span>
    <span class="n">df_simulado</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="c1"># Selecionando aleatoriamente a % dos fumantes para deixar de fumar</span>
    <span class="n">num_fumantes</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Fumante&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">qtd_a_alterar</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_fumantes</span> <span class="o">*</span> <span class="n">reducao_fumantes</span><span class="p">)</span>
    <span class="n">indexes_a_alterar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">df_simulado</span><span class="p">[</span><span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Fumante&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">qtd_a_alterar</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="n">df_simulado</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indexes_a_alterar</span><span class="p">,</span> <span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="mf">2381.14</span>
    
    <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="c1"># Calculando o custo médio por funcionário após a mudança</span>
    <span class="n">custo_medio_simulado</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    
    
    <span class="k">return</span> <span class="n">custo_medio_simulado</span>

<span class="c1"># Realizando o bootstrap para estimar a economia média por funcionário</span>
<span class="n">n_bootstraps</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">reducao_fumantes</span> <span class="o">=</span> <span class="n">reducao_fumantes_perc</span>

<span class="n">media_reducao_fumantes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">simular_media_reducao_fumantes</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">reducao_fumantes</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_bootstraps</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># Calculando o intervalo de confiança para a economia média por funcionário</span>
<span class="n">lower_ci</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">media_reducao_fumantes</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
<span class="n">upper_ci</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">media_reducao_fumantes</span><span class="p">,</span> <span class="mf">97.5</span><span class="p">)</span>

<span class="n">custo_saude_medio_reducao_fumantes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">media_reducao_fumantes</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimativa da média do custo de saúde após a redução de </span><span class="si">{</span><span class="n">reducao_fumantes</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2"> de fumantes: </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">custo_saude_medio_reducao_fumantes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalo de confiança (95%): ( </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">lower_ci</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">upper_ci</span><span class="p">)</span><span class="si">}</span><span class="s2"> )&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estimativa da média do custo de saúde após a redução de 45.41% de fumantes: R$ 1.162,12
Intervalo de confiança (95%): ( R$ 1.150,47, R$ 1.174,33 )
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">custo_saude_geral</span> <span class="o">=</span> <span class="n">custo_saude_medio</span> <span class="o">*</span> <span class="mi">20000</span>
<span class="n">custo_saude_geral_reducao_fumantes</span> <span class="o">=</span> <span class="n">custo_saude_medio_reducao_fumantes</span> <span class="o">*</span> <span class="mi">20000</span>
<span class="n">economia_geral</span> <span class="o">=</span> <span class="n">custo_saude_geral</span> <span class="o">-</span> <span class="n">custo_saude_geral_reducao_fumantes</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Redução de </span><span class="si">{</span><span class="p">(</span><span class="n">economia_geral</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">custo_saude_geral</span><span class="p">)</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2"> no custo de saúde onde </span><span class="si">{</span><span class="n">reducao_fumantes</span><span class="si">:</span><span class="s2">.0%</span><span class="si">}</span><span class="s2"> do total de fumantes abandonaram o fumo: </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">economia_geral</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Redução de 12.48% no custo de saúde onde 45% do total de fumantes abandonaram o fumo: R$ 3.314.263,40
</pre></div>
</div>
</div>
</div>
<p><strong>Simulação de ganho com a redução de peso na empresa:</strong></p>
<p>Redução média do IMC</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Realizando o bootstrap para estimar a média</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">((</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;IMC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,),</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span> <span class="n">n_resamples</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">confidence_level</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">imc_medio</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">bootstrap_distribution</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimativa da média de IMC: </span><span class="si">{</span><span class="n">imc_medio</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalo de confiança (95%): (</span><span class="si">{</span><span class="n">res</span><span class="o">.</span><span class="n">confidence_interval</span><span class="o">.</span><span class="n">low</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">res</span><span class="o">.</span><span class="n">confidence_interval</span><span class="o">.</span><span class="n">high</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estimativa da média de IMC: 30.67
Intervalo de confiança (95%): (30.33, 31.02)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simulação da situação em que uma % dos funcionarios diminuem o IMC</span>
<span class="k">def</span> <span class="nf">simular_media_reducao_imc</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perc_reduc_obesidade</span><span class="p">,</span> <span class="n">reducao_imc</span><span class="p">,</span> <span class="n">custo_unidade_imc</span><span class="p">):</span>
    <span class="c1"># Criando uma cópia do DataFrame para simulação</span>
    <span class="n">df_simulado</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="c1"># Selecionando aleatoriamente a % dos funcionarios acima do peso para diminuir o IMC</span>
    <span class="n">num_acima_peso</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;IMC&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">25</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">qtd_a_alterar</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_acima_peso</span> <span class="o">*</span> <span class="n">perc_reduc_obesidade</span><span class="p">)</span>
    <span class="n">indexes_a_alterar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">df_simulado</span><span class="p">[</span><span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;IMC&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">25</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">qtd_a_alterar</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="n">df_simulado</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indexes_a_alterar</span><span class="p">,</span> <span class="s1">&#39;IMC&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="n">reducao_imc</span>

    <span class="n">df_simulado</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indexes_a_alterar</span><span class="p">,</span> <span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="p">(</span><span class="n">custo_unidade_imc</span> <span class="o">*</span> <span class="n">reducao_imc</span><span class="p">)</span>
    <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="c1"># Calculando o custo médio por funcionário após a mudança</span>
    <span class="n">custo_medio_simulado</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;Custo_Saude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

        
    <span class="c1"># Calculando o imc médio por funcionário após a redução</span>
    <span class="n">imc_medio_simulado</span> <span class="o">=</span> <span class="n">df_simulado</span><span class="p">[</span><span class="s1">&#39;IMC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    
    
    <span class="k">return</span> <span class="n">imc_medio_simulado</span><span class="p">,</span> <span class="n">custo_medio_simulado</span>


<span class="c1"># Realizando o bootstrap para estimar a média por funcionário com a redução do IMC</span>
<span class="n">n_bootstraps</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">perc_reduc_obesidade</span> <span class="o">=</span> <span class="mf">0.50</span>
<span class="n">reducao_imc</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">custo_unidade_imc</span> <span class="o">=</span> <span class="mf">32.19</span>

<span class="n">imc_medio_simulado</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">custo_medio_simulado</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_bootstraps</span><span class="p">):</span>
    <span class="n">imc</span><span class="p">,</span> <span class="n">custo</span> <span class="o">=</span> <span class="n">simular_media_reducao_imc</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">perc_reduc_obesidade</span><span class="p">,</span> <span class="n">reducao_imc</span><span class="p">,</span> <span class="n">custo_unidade_imc</span><span class="p">)</span>
    <span class="n">imc_medio_simulado</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">imc</span><span class="p">)</span>
    <span class="n">custo_medio_simulado</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">custo</span><span class="p">)</span>
    

<span class="c1"># Calculando o intervalo de confiança para imc médio por funcionário</span>
<span class="n">lower_ci</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">imc_medio_simulado</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
<span class="n">upper_ci</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">imc_medio_simulado</span><span class="p">,</span> <span class="mf">97.5</span><span class="p">)</span>

<span class="n">media_apos_reducao_imc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">imc_medio_simulado</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimativa da média do IMC após a redução do IMC em </span><span class="si">{</span><span class="n">reducao_imc</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> pontos para </span><span class="si">{</span><span class="n">perc_reduc_obesidade</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2"> de funcionários acima do peso: </span><span class="si">{</span><span class="n">media_apos_reducao_imc</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalo de confiança (95%): (</span><span class="si">{</span><span class="n">lower_ci</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">upper_ci</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="c1"># Calculando o intervalo de confiança para custo médio por funcionário após redução de imc</span>
<span class="n">lower_ci</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">custo_medio_simulado</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
<span class="n">upper_ci</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">custo_medio_simulado</span><span class="p">,</span> <span class="mf">97.5</span><span class="p">)</span>

<span class="n">custo_medio_apos_reducao_imc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">custo_medio_simulado</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimativa da média do custo de saúde após a redução do IMC em </span><span class="si">{</span><span class="n">reducao_imc</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> pontos para </span><span class="si">{</span><span class="n">perc_reduc_obesidade</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2"> de funcionários acima do peso: </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">custo_medio_apos_reducao_imc</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalo de confiança (95%): (</span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">lower_ci</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">upper_ci</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estimativa da média do IMC após a redução do IMC em 5 pontos para 50.00% de funcionários acima do peso: 29.06
Intervalo de confiança (95%): (29.00, 29.11)

Estimativa da média do custo de saúde após a redução do IMC em 5 pontos para 50.00% de funcionários acima do peso: R$ 1.275,50
Intervalo de confiança (95%): (R$ 1.273,65, R$ 1.277,27)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">custo_saude_geral</span> <span class="o">=</span> <span class="n">custo_saude_medio</span> <span class="o">*</span> <span class="mi">20000</span>
<span class="n">custo_saude_geral_reducao_obesos</span> <span class="o">=</span> <span class="n">custo_medio_apos_reducao_imc</span> <span class="o">*</span> <span class="mi">20000</span>
<span class="n">economia_geral</span> <span class="o">=</span> <span class="n">custo_saude_geral</span> <span class="o">-</span> <span class="n">custo_saude_geral_reducao_obesos</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Redução de </span><span class="si">{</span><span class="p">(</span><span class="n">economia_geral</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">custo_saude_geral</span><span class="p">)</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2"> no custo de saúde onde </span><span class="si">{</span><span class="n">perc_reduc_obesidade</span><span class="si">:</span><span class="s2">.0%</span><span class="si">}</span><span class="s2"> do total de funcionários acima do peso reduziram o imc em </span><span class="si">{</span><span class="n">reducao_imc</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> pontos: </span><span class="si">{</span><span class="n">moeda</span><span class="p">(</span><span class="n">economia_geral</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Redução de 3.94% no custo de saúde onde 50% do total de funcionários acima do peso reduziram o imc em 5 pontos: R$ 1.046.601,02
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="implantacao">
<h2>6. Implantação<a class="headerlink" href="#implantacao" title="Link to this heading">#</a></h2>
<section id="plano-de-implantacao">
<h3>6.1 Plano de implantação<a class="headerlink" href="#plano-de-implantacao" title="Link to this heading">#</a></h3>
<p>Plano de Ação <strong>5W2H</strong> para Redução de Custos com Saúde na Empresa</p>
<p><strong>Objetivo:</strong> Reduzir os custos com saúde dos colaboradores em 15% em 2 anos, com foco nos principais fatores de risco: tabagismo e IMC alto.</p>
<p><strong>Público-alvo:</strong> Todos os colaboradores da empresa (mais de 20 mil) em todo o Brasil.</p>
<p><strong>Prazo:</strong> 2 anos</p>
<p><strong>Recursos:</strong></p>
<ul class="simple">
<li><p>Equipe de Recursos Humanos</p></li>
<li><p>Equipe de Saúde Ocupacional</p></li>
<li><p>Parceiros externos (nutricionistas, psicólogos, empresas de cessação do tabagismo)</p></li>
<li><p>Recursos financeiros para implementação das ações</p></li>
</ul>
<p><strong>Ações:</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dados da tabela</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;O quê&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;Programa de Cessação do Tabagismo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Programa de Redução de Peso&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Exames Médicos Preventivos&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Monitoramento e Avaliação&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Comunicação e Engajamento&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Quem&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;Equipe de Saúde Ocupacional, Psicólogos, Empresas de Cessação do Tabagismo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Equipe de Saúde Ocupacional, Nutricionistas&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Equipe de Saúde Ocupacional&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Equipe de Saúde Ocupacional&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Equipe de Comunicação, Equipe de Saúde Ocupacional&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Quando&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Contínuo&#39;</span><span class="p">,</span> <span class="s1">&#39;Contínuo&#39;</span><span class="p">,</span> <span class="s1">&#39;Anual&#39;</span><span class="p">,</span> <span class="s1">&#39;Semestral&#39;</span><span class="p">,</span> <span class="s1">&#39;Contínuo&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Onde&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Locais de trabalho e online&#39;</span><span class="p">,</span> <span class="s1">&#39;Locais de trabalho e online&#39;</span><span class="p">,</span> <span class="s1">&#39;Locais de trabalho e clínicas parceiras&#39;</span><span class="p">,</span> <span class="s1">&#39;Análise de dados&#39;</span><span class="p">,</span> <span class="s1">&#39;Canais de comunicação internos da empresa&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Por quê&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;Reduzir o número de fumantes entre os colaboradores e prevenir doenças relacionadas ao tabagismo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Reduzir o IMC dos colaboradores e prevenir doenças relacionadas ao sobrepeso e obesidade&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Detectar precocemente doenças e promover a saúde preventiva&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Avaliar o impacto das ações e identificar áreas para melhorias&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Informar os colaboradores sobre as ações disponíveis e seus benefícios, incentivar a participação nos programas e atividades, campanhas de conscientização sobre os fatores de risco para a saúde e como preveni-los&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Como&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;Workshops e palestras sobre os malefícios do tabagismo, terapia individual ou em grupo, medicações, acompanhamento psicológico, ambientes livres de fumo, apoio aos fumantes&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Workshops sobre nutrição, grupos de apoio para perda de peso, acesso a nutricionistas, opções de lanches saudáveis nos refeitórios, desafios de atividade física&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Oferecer exames médicos periódicos gratuitos ou com baixo custo, campanhas de conscientização sobre a importância dos exames preventivos, acesso facilitado aos exames&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Coletar dados sobre o custo com saúde dos funcionários, IMC, taxa de tabagismo e frequência de exames preventivos, análise periódica dos dados, ajustes no plano conforme necessário&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Campanhas de comunicação interna, materiais informativos, treinamentos, eventos&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Quanto&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A definir&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>
<span class="p">}</span>

<span class="c1"># Criando o DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="c1"># Definindo &#39;O quê&#39; como índice</span>
<span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;O quê&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Quem</th>
      <th>Quando</th>
      <th>Onde</th>
      <th>Por quê</th>
      <th>Como</th>
      <th>Quanto</th>
    </tr>
    <tr>
      <th>O quê</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Programa de Cessação do Tabagismo</th>
      <td>Equipe de Saúde Ocupacional, Psicólogos, Empresas de Cessação do Tabagismo</td>
      <td>Contínuo</td>
      <td>Locais de trabalho e online</td>
      <td>Reduzir o número de fumantes entre os colaboradores e prevenir doenças relacionadas ao tabagismo</td>
      <td>Workshops e palestras sobre os malefícios do tabagismo, terapia individual ou em grupo, medicações, acompanhamento psicológico, ambientes livres de fumo, apoio aos fumantes</td>
      <td>A definir</td>
    </tr>
    <tr>
      <th>Programa de Redução de Peso</th>
      <td>Equipe de Saúde Ocupacional, Nutricionistas</td>
      <td>Contínuo</td>
      <td>Locais de trabalho e online</td>
      <td>Reduzir o IMC dos colaboradores e prevenir doenças relacionadas ao sobrepeso e obesidade</td>
      <td>Workshops sobre nutrição, grupos de apoio para perda de peso, acesso a nutricionistas, opções de lanches saudáveis nos refeitórios, desafios de atividade física</td>
      <td>A definir</td>
    </tr>
    <tr>
      <th>Exames Médicos Preventivos</th>
      <td>Equipe de Saúde Ocupacional</td>
      <td>Anual</td>
      <td>Locais de trabalho e clínicas parceiras</td>
      <td>Detectar precocemente doenças e promover a saúde preventiva</td>
      <td>Oferecer exames médicos periódicos gratuitos ou com baixo custo, campanhas de conscientização sobre a importância dos exames preventivos, acesso facilitado aos exames</td>
      <td>A definir</td>
    </tr>
    <tr>
      <th>Monitoramento e Avaliação</th>
      <td>Equipe de Saúde Ocupacional</td>
      <td>Semestral</td>
      <td>Análise de dados</td>
      <td>Avaliar o impacto das ações e identificar áreas para melhorias</td>
      <td>Coletar dados sobre o custo com saúde dos funcionários, IMC, taxa de tabagismo e frequência de exames preventivos, análise periódica dos dados, ajustes no plano conforme necessário</td>
      <td>A definir</td>
    </tr>
    <tr>
      <th>Comunicação e Engajamento</th>
      <td>Equipe de Comunicação, Equipe de Saúde Ocupacional</td>
      <td>Contínuo</td>
      <td>Canais de comunicação internos da empresa</td>
      <td>Informar os colaboradores sobre as ações disponíveis e seus benefícios, incentivar a participação nos programas e atividades, campanhas de conscientização sobre os fatores de risco para a saúde e como preveni-los</td>
      <td>Campanhas de comunicação interna, materiais informativos, treinamentos, eventos</td>
      <td>A definir</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Indicadores de Sucesso:</strong></p>
<ul class="simple">
<li><p>Redução de 15% no custo com saúde dos colaboradores em 2 anos;</p>
<ul>
<li><p>Redução da taxa de tabagismo entre os colaboradores de 20,48% para 9,3%;</p></li>
<li><p>Redução do IMC de pelo menos 50% dos colaboradores acima do peso em 5 unidades de IMC;</p></li>
</ul>
</li>
<li><p>Aumento da frequência de exames preventivos;</p></li>
<li><p>Melhoria da percepção dos colaboradores sobre a saúde e o bem-estar no trabalho.</p></li>
</ul>
<p><strong>Comunicação e Engajamento:</strong></p>
<ul class="simple">
<li><p>É fundamental comunicar o plano de ação para todos os colaboradores de forma clara, concisa e engajadora.</p></li>
<li><p>Utilizar diversos canais de comunicação, como e-mail, intranet, redes sociais, cartazes e eventos.</p></li>
</ul>
</section>
</section>
<section id="consideracoes-finais">
<h2>7. Considerações finais<a class="headerlink" href="#consideracoes-finais" title="Link to this heading">#</a></h2>
<p>O estudo em questão fornece insights valiosos sobre os fatores que influenciam o custo da saúde na empresa. A metodologia rigorosa e os resultados robustos demonstram a relação entre tabagismo, IMC elevado e custo da saúde, destacando a importância da promoção da saúde e do bem-estar dos colaboradores para o controle dos custos na empresa. A implementação do plano de ação proposto pode gerar benefícios financeiros e de saúde significativos para a empresa e seus colaboradores.</p>
<section id="limitacoes">
<h3>7.1 Limitações<a class="headerlink" href="#limitacoes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Possibilidade de outros fatores não considerados influenciarem o custo da saúde.</p></li>
<li><p>O modelo de regressão linear múltipla apresenta algumas limitações, o que pode afetar a precisão das estimativas:</p>
<ul>
<li><p>Heterocedasticidade</p></li>
<li><p>Não normalidade dos resíduos</p></li>
</ul>
</li>
</ul>
</section>
<section id="proximos-passos">
<h3>7.2 Próximos Passos<a class="headerlink" href="#proximos-passos" title="Link to this heading">#</a></h3>
<p>Os próximos passos para este projeto podem incluir:</p>
<ul class="simple">
<li><p>Implementação das ações preventivas sugeridas para diminuir o custo do plano de saúde.</p></li>
<li><p>Monitoramento contínuo dos custos do plano de saúde e revisão periódica da análise para ajustes necessários.</p></li>
<li><p>Exploração de outras técnicas de análise de dados para obter insights adicionais.</p></li>
</ul>
</section>
<section id="agradecimentos">
<h3>7.3 Agradecimentos<a class="headerlink" href="#agradecimentos" title="Link to this heading">#</a></h3>
<p>Gostaria de expressar minha sincera gratidão à escola de dados <a href="https://www.preditiva.ai" target="_blank">Preditiva Analytics Treinamentos Ltda</a> por disponibilizar os dados e o contexto de negócios fictícios utilizados neste estudo. Sua generosa contribuição foi fundamental para o desenvolvimento deste trabalho e enriqueceu significativamente minha compreensão do assunto. Agradeço profundamente pela parceria e apoio durante todo o processo.</p>
</section>
</section>
<section id="links-uteis">
<h2>Links Úteis<a class="headerlink" href="#links-uteis" title="Link to this heading">#</a></h2>
<p>GASPAR, Juliano de Souza et al. Introdução à análise de dados em saúde com Python. In: Introdução à análise de dados em saúde com Python. 2023. Disponível em: <a class="reference external" href="https://repositorio.ufmg.br/handle/1843/55554">https://repositorio.ufmg.br/handle/1843/55554</a>. Acesso em: 04 mar. 2024.</p>
<p>MINISTÉRIO DA SAÚDE. Cartilha Tabagismo 2023. 2023. Disponível em: <a class="reference external" href="https://www.saude.mg.gov.br/images/2023/Tabagismo%202023/cartilha-tabagismo-2023%201.pdf">https://www.saude.mg.gov.br/images/2023/Tabagismo 2023/cartilha-tabagismo-2023 1.pdf</a>. Acesso em: 07 mai. 2024.</p>
<p>MINISTÉRIO DA SAÚDE. Tabagismo. 2023. Disponível em: <a class="reference external" href="https://www.saude.mg.gov.br/tabagismo">https://www.saude.mg.gov.br/tabagismo</a>. Acesso em: 07 mai. 2024.</p>
<p>MINISTÉRIO DA SAÚDE. Vigitel Brasil 2006-2023 : tabagismo e consumo abusivo de álcool. Disponível em: <a class="reference external" href="https://www.gov.br/saude/pt-br/centrais-de-conteudo/publicacoes/svsa/vigitel/vigitel-brasil-2006-2023-tabagismo-e-consumo-abusivo-de-alcool/view">https://www.gov.br/saude/pt-br/centrais-de-conteudo/publicacoes/svsa/vigitel/vigitel-brasil-2006-2023-tabagismo-e-consumo-abusivo-de-alcool/view</a>. Acesso em: 07 mai. 2024.</p>
<p>XANCHÃO, Raphael Costa; CRUZ, Frederico RB. Construção de intervalos de confiança via bootstrap. 2010. Disponível em: <a class="reference external" href="https://www.est.ufmg.br/ftp/fcruz/pub/bootic.pdf">https://www.est.ufmg.br/ftp/fcruz/pub/bootic.pdf</a>. Acesso em: 07 mai. 2024.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./people_analytics\otimizacao_de_custos_de_plano_de_saude"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../introducao.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">People Analytics</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#entendimento-do-negocio">1. Entendimento do Negócio</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contexto-de-negocio">1.1 Contexto de negócio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivo">1.2 Objetivo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#premissas">1.3 Premissas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#riscos-envolvidos">1.4 Riscos Envolvidos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-swot">Análise SWOT</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custos-x-beneficios">1.5 Custos x Benefícios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#criterios-de-sucesso">1.6 Critérios de Sucesso</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados">1.7 Resultados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recursos">1.8 Recursos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planejamento-do-projeto">1.9 Planejamento do projeto</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#entendimento-do-dados">2. Entendimento do Dados</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#descricao-dos-dados">2.1 Descrição dos dados</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#importacoes">2.1.1 Importações</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#lendo-o-arquivo-de-dados">2.1.2 Lendo o arquivo de dados</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-exploratoria-de-dados-aed">2.2 Análise Exploratória de Dados (AED)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-analise-dos-dados">2.2.1 Pré-análise dos Dados</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-de-frequencias">2.2.2 Distribuição de Frequências</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-de-frequencias-para-variaveis-quantitativas-numericas">2.2.2.1 Distribuição de Frequências para variáveis quantitativas (numéricas)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-de-frequencias-para-variaveis-qualitativas-categoricas">2.2.2.2 Distribuição de Frequências para variáveis qualitativas (categóricas)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparacao-dos-dados">3. Preparação dos Dados</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecao-das-variaveis">3.1 Seleção das variáveis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-correlacao-e-associacao">3.1.1 Análise de Correlação e Associação</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-numericas">3.1.1.1 Análise de Correlação e medidas de associação entre variáveis numéricas</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-correlacao-e-medidas-de-associacao-entre-variaveis-categoricas">3.1.1.2 Análise de Correlação e medidas de associação entre variáveis categóricas</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-multivariada">3.1.2 Análise Multivariada</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-idade">3.1.2.1 Distribuição das variáveis categóricas no Custo_Saude x Idade</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-imc">3.1.2.2 Distribuição das variáveis categóricas no Custo_Saude x IMC</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#distribuicao-das-variaveis-categoricas-no-custo-saude-x-qte-filhos">3.1.2.3 Distribuição das variáveis categóricas no Custo_Saude x Qte_Filhos</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplots-de-categorias-de-fumantes-por-regiao-em-relacao-a-custo-saude">3.1.2.4 Boxplots de categorias de Fumantes por Região em relação a Custo_Saude</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplots-de-categorias-de-fumantes-por-sexo-em-relacao-a-custo-saude">3.1.2.5 Boxplots de categorias de Fumantes por Sexo em relação a Custo_Saude</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplots-de-categorias-de-fumantes-por-categorias-imc-em-relacao-a-custo-saude">3.1.2.6 Boxplots de categorias de Fumantes por Categorias_IMC em relação a Custo_Saude</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#medindo-o-r2-de-combinacoes-pareadas-de-variaveis-categoricas">3.1.2.7 Medindo o R² de combinações pareadas de variáveis categóricas</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#desenvolvendo-o-modelo-inferencial">4. Desenvolvendo o Modelo Inferencial</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amostragem-estratificada">4.1 Amostragem estratificada</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tamanho-da-amostra">4.2 Tamanho da amostra</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#calculo-amostral-utilizando-a-formula-de-slovin">4.2.1 Cálculo amostral utilizando a fórmula de Slovin</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.3 Preparação dos Dados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ajuste-do-modelo-de-regressao-linear-multipla">4.4 Ajuste do Modelo de Regressão Linear Múltipla</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validacao-do-trabalho">5. Validação do trabalho</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagnostico-do-modelo-analise-dos-residuos">5.1 Diagnóstico do Modelo: Análise dos Resíduos</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ausencia-de-multicolinearidade">5.1.1 Ausência de multicolinearidade</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#normalidade-dos-residuos">5.1.2 Normalidade dos Resíduos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#homocedasticidade-dos-residuos">5.1.3 Homocedasticidade dos Resíduos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#premissas-suposicoes-para-o-modelo-inferencial">5.1.4 Premissas/Suposições para o Modelo Inferencial</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacao-do-modelo">5.2 Interpretação do Modelo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verificacao-dos-criterios-de-sucesso">5.3 Verificação dos critérios de sucesso</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estimativas-populacionais-de-ganho-geral">5.3.1 Estimativas populacionais de ganho geral</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implantacao">6. Implantação</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plano-de-implantacao">6.1 Plano de implantação</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#consideracoes-finais">7. Considerações finais</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limitacoes">7.1 Limitações</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proximos-passos">7.2 Próximos Passos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agradecimentos">7.3 Agradecimentos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#links-uteis">Links Úteis</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Wolker Sanches Dias
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div style="text-align: center;">
  <a href="https://www.linkedin.com/in/wolkerdias" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" style="width:40px;height:40px;margin:5px;transition:transform 0.3s;">
  </a>
  <a href="https://github.com/wolkerdias" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" alt="GitHub" style="width:40px;height:40px;margin:5px;transition:transform 0.3s;">
  </a>
  <a href="mailto:wolker.sd@hotmail.com" target="_blank">
    <img src="https://cdn-icons-png.flaticon.com/512/281/281769.png" alt="Email" style="width:40px;height:40px;margin:5px;transition:transform 0.3s;">
  </a>
</div>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>